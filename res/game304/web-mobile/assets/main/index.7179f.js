window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({ADManager:[function(t,e){"use strict";cc._RF.push(e,"08910uwD1VEKpFLcEMh1q94","ADManager");var n=t("util"),o=cc.Class({extends:cc.Component,properties:{Tbanner:null,Tcha:null,Ticon:null,Gbanner:null,Gcha:null,Ggezi:null,Gvideo:null},ctor:function(){},_show:function(t){null!=t&&t.show()},_destroy:function(t){null!=t&&(window.TofuCon.GameCDNData.refreshBanner?(t.destroy&&t.destroy(),t=null):t.hide&&t.hide())},creatTbanner:function(t){var e=this;if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&n.compareVersion(o.SDKVersion,"2.7.5")){if(!window.TofuCon.GameCDNData.refreshBanner&&null!=this.Tbanner)return console.log("\u4e0d\u5237\u65b0\u63a8\u8350\u4f4d"),void this._show(this.Tbanner);this._destroy(this.Tbanner);try{wx.createGameBanner&&(this.Tbanner=wx.createGameBanner({adUnitId:"PBgAAcR_sgTxCS1w",style:{left:0,top:0,width:200}})),this.Tbanner&&(this.Tbanner.show().catch(function(){t("error")}),this.Tbanner.onResize(function(t){if(console.log("Tbanner onResize res:",t.width,t.height),e.Tbanner&&e.Tbanner.style){var n="Normal"==window.TofuCon.phoneModel?0:.01;console.log("fitOffsetY:",n);var i=n;"Normal"!=window.TofuCon.phoneModel&&(console.log("isIphoneX\u6216\u8005\u662f\u5168\u9762\u5c4f\uff01"),i*=40),console.log("Tbanner onResize res:",t.width,t.height),e.Tbanner.style.left=(o.screenWidth-t.width)/2,e.Tbanner.style.top=o.screenHeight-t.height-Math.abs(i)}}))}catch(i){console.log(i),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.7.5 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("filter")}},creatTcha:function(t){var e=this;if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&n.compareVersion(o.SDKVersion,"2.7.5")){if(!window.TofuCon.GameCDNData.refreshBanner&&null!=this.Tcha)return console.log("\u4e0d\u5237\u65b0\u63a8\u8350\u4f4d"),void this._show(this.Tcha);this._destroy(this.Tcha);try{wx.createGamePortal&&(this.Tcha=wx.createGamePortal({adUnitId:"PBgAAcR_sgT2qgW8"})),this.Tcha&&(this.Tcha.load().then(function(){e.Tcha.show()}).catch(function(){t("error")}),this.Tcha.onClose(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),e.Tcha=null,t("close")}))}catch(i){console.log(i),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.7.5 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("filter")}},creatTicon:function(t){var e=this;if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&n.compareVersion(o.SDKVersion,"2.8.2")){if(!window.TofuCon.GameCDNData.refreshBanner&&null!=this.Ticon)return console.log("\u4e0d\u5237\u65b0\u63a8\u8350\u4f4d"),void this._show(this.Ticon);this._destroy(this.Ticon);try{wx.createGameIcon&&(console.log("iconAd creat start"),this.Ticon=wx.createGameIcon({adUnitId:"PBgAAcR_sgT_xJ48",count:3,style:[{appNameHidden:0,color:"#2C102C",borderWidth:2,borderColor:"#ffea00",size:30,top:.3*o.windowHeight,left:.01*o.windowWidth},{appNameHidden:0,color:"#2C102C",borderWidth:2,borderColor:"#ffea00",size:30,top:.2*o.windowHeight,left:.01*o.windowWidth},{appNameHidden:0,color:"#2C102C",borderWidth:2,borderColor:"#ffea00",size:30,top:.1*o.windowHeight,left:.01*o.windowWidth}]})),this.Ticon&&(console.log("iconAd creat success"),this.Ticon.load().then(function(){console.log("iconAd load success"),e.Ticon.show()}).catch(function(n){console.log(n),e.Ticon.destroy(),e.Ticon=null,t("error")}))}catch(i){console.log(i),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.7.5 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("filter")}},creatGcha:function(t){var e=this;if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&n.compareVersion(o.SDKVersion,"2.0.4")){if(!window.TofuCon.GameCDNData.refreshBanner&&null!=this.Gcha)return console.log("\u4e0d\u5237\u65b0\u63a8\u8350\u4f4d"),void this._show(this.Gcha);this._destroy(this.Gcha);try{this.Gcha=wx.createInterstitialAd({adUnitId:"adunit-195b106265503d8a"}),this.Gcha?(this.Gcha.show().catch(function(e){console.error(e),t("error")}),this.Gcha.onError(function(e){console.log("\u9519\u8bef\u76d1\u542c\uff1a",e),t("error")}),this.Gcha.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t("ok")}),this.Gcha.onClose(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),e.Gcha=null,t("close")})):(console.log("cha\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01"),t("error"))}catch(i){console.log(i),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.0.4 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("filter")}},creatGbanner:function(t){var e=this;if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&n.compareVersion(o.SDKVersion,"2.0.4")){if(null!=this.Gbanner&&!window.TofuCon.GameCDNData.refreshBanner)return console.log("\u4e0d\u5237\u65b0banner\u5e7f\u544a"),void this._show(this.Gbanner);this._destroy(this.Gbanner);try{this.Gbanner=wx.createBannerAd({adUnitId:"adunit-668b4f59f6f0c6c9",adIntervals:30,style:{left:0,top:0,width:200}}),console.log("\u521b\u5efabannerAd\u6210\u529f\uff01"),this.Gbanner?(this.Gbanner.show().then(function(){console.log("banner \u5e7f\u544a\u663e\u793a")}),this.Gbanner.onError(function(e){console.log("\u9519\u8bef\u76d1\u542c\uff1a",e),t("error")}),this.Gbanner.onResize(function(t){if(console.log("Gbanner onResize res:",t.width,t.height),e.Gbanner&&e.Gbanner.style){var n="Normal"==window.TofuCon.phoneModel?0:.01;console.log("fitOffsetY:",n);var i=n;"Normal"!=window.TofuCon.phoneModel&&(console.log("isIphoneX\u6216\u8005\u662f\u5168\u9762\u5c4f\uff01"),i*=40),console.log("Gbanner style:",e.Gbanner.style),e.Gbanner.style.width=200,e.Gbanner.style.left=(o.screenWidth-t.width)/2,e.Gbanner.style.top=o.screenHeight-t.height-Math.abs(i)}})):(console.log("\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01"),t("error"))}catch(i){console.log(i),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.0.4 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("filter")}},getBanner:function(){var t=this;this._destroy(this.Gbanner),this._destroy(this.Tbanner),console.log("getBanner",window.TofuCon.GameCDNData.FinishAdRate),Math.random()>window.TofuCon.GameCDNData.FinishAdRate?this.creatGbanner(function(e){console.log("creatGbanner",e),"error"!=e&&"filter"!=e||t._destroy(t.Gbanner)}):this.creatTbanner(function(e){console.log("creatTbanner",e),"error"!=e&&"filter"!=e||(t._destroy(t.Tbanner),t.creatGbanner(function(t){console.log("creatGbanner",t)}))})},getCha:function(){var t=this;this._destroy(this.Gcha),this._destroy(this.Tcha),Math.random()>window.TofuCon.GameCDNData.FinishAdRate?this.creatGcha(function(e){console.log("creatGcha",e),"error"!=e&&"filter"!=e||(t._destroy(t.Gcha),t.creatTcha(function(t){console.log("creatTcha",t)}))}):this.creatTcha(function(e){console.log("creatTcha",e),"error"!=e&&"filter"!=e||(t._destroy(t.Tcha),t.creatGcha(function(t){console.log("creatGcha",t)}))})},destroyAllCha:function(){this._destroy(this.Gcha),this._destroy(this.Tcha)},destroyAllBanner:function(){this._destroy(this.Gbanner),this._destroy(this.Tbanner)}});e.exports=o,cc._RF.pop()},{util:"util"}],AudioManager:[function(t,e){"use strict";cc._RF.push(e,"20f0c/VcP1JUoPxfz1OVGl6","AudioManager");var n=t("General");cc.Class({extends:cc.Component,properties:{bgMusic_Audio:{type:cc.AudioSource,default:null},clips:{default:[],type:cc.AudioClip}},ctor:function(){this.bgMusic_Audio=null,this.clips=new Array,this.audioSourcesDic=new n.Dictionary,this.tempAudio=null,this.isStartDestroyAudio=!1,this.audioSourceList=new n.Dictionary,this.audioClipList=new n.Dictionary},onLoad:function(){for(var t=0;t<this.clips.length;t++)this.audioClipList.Add(this.clips[t].name,this.clips[t])},StopAudioClip:function(t){this.audioSourcesDic.ContainKey(t)&&(this.tempAudio=this.audioSourcesDic.TryGetValue(t),this.isStartDestroyAudio=!0,this.audioSourcesDic.Remove(t))},PlayAudioByName:function(t,e){void 0===e&&(e=1),this.PlayAudio(t,e)},PlayAudioByNameAsync:function(t,e){var n=this;setTimeout(function(){n.PlayAudio(t)},1e3*e)},PlayAudioClip:function(t){if(window.TofuCon.gameData.audio_switch){var e=this.node.addComponent(cc.AudioSource);e.clip=this.clips[t],e.play(),this.audioSourcesDic.ContainKey(t)&&this.audioSourcesDic.Remove(t),this.audioSourcesDic.Add(t,e),this.DestroyAudio(e,e.getDuration())}},DestroyAudio:function(t,e){var n=this;setTimeout(function(){null!=t&&(n.audioSourcesDic.ContainValue(t)&&n.audioSourcesDic.RemoveByValue(t),t.destroy())},1e3*e)},PlayAudio:function(t,e){if(void 0===e&&(e=1),window.TofuCon.gameData.audio_switch&&this.audioClipList.ContainKey(t)){var n=this.node.addComponent(cc.AudioSource);n.clip=this.audioClipList.Item(t),n.volume=e,n.play(),this.audioSourceList.ContainKey(t)&&this.audioSourceList.Remove(t),this.audioSourceList.Add(t,n),this.DestroyAudioSource(n,n.getDuration())}},DestroyAudioSource:function(t,e){var n=this;setTimeout(function(){null!=t&&(n.audioSourceList.ContainValue(t)&&n.audioSourceList.RemoveByValue(t),t.destroy())},1e3*(5+e))},SetBgMusic:function(t){console.log("1----\x3e"+t+this.bgMusic_Audio.volume),console.log("2----\x3e"+t+this.bgMusic_Audio.volume),this.bgMusic_Audio.mute=!t,t?(this.bgMusic_Audio.volume=1,this.bgMusic_Audio.play()):this.bgMusic_Audio.volume=0,console.log("3----\x3e"+t+this.bgMusic_Audio.volume)},ResumeBGMPlay:function(){window.TofuCon.gameData.audio_switch&&(this.bgMusic_Audio.enabled=!0,this.bgMusic_Audio.volume=1,this.bgMusic_Audio.mute=!1,this.bgMusic_Audio.play())}}),cc._RF.pop()},{General:"General"}],1:[function(t,e){var n=t("util/"),o=Array.prototype.slice,i=Object.prototype.hasOwnProperty,a=e.exports=l;function r(t,e){return n.isUndefined(e)?""+e:n.isNumber(e)&&!isFinite(e)?e.toString():n.isFunction(e)||n.isRegExp(e)?e.toString():e}function s(t,e){return n.isString(t)?t.length<e?t:t.slice(0,e):t}function c(t){return s(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+s(JSON.stringify(t.expected,r),128)}function u(t,e,n,o,i){throw new a.AssertionError({message:n,actual:t,expected:e,operator:o,stackStartFunction:i})}function l(t,e){t||u(t,!0,e,"==",a.ok)}function d(t,e){if(t===e)return!0;if(n.isBuffer(t)&&n.isBuffer(e)){if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}return n.isDate(t)&&n.isDate(e)?t.getTime()===e.getTime():n.isRegExp(t)&&n.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:n.isObject(t)||n.isObject(e)?f(t,e):t==e}function h(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(n.isNullOrUndefined(t)||n.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(n.isPrimitive(t)||n.isPrimitive(e))return t===e;var i=h(t),a=h(e);if(i&&!a||!i&&a)return!1;if(i)return d(t=o.call(t),e=o.call(e));var r,s,c=p(t),u=p(e);if(c.length!=u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!=u[s])return!1;for(s=c.length-1;s>=0;s--)if(!d(t[r=c[s]],e[r]))return!1;return!0}function w(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||!0===e.call({},t))}function g(t,e,o,i){var a;n.isString(o)&&(i=o,o=null);try{e()}catch(r){a=r}if(i=(o&&o.name?" ("+o.name+").":".")+(i?" "+i:"."),t&&!a&&u(a,o,"Missing expected exception"+i),!t&&w(a,o)&&u(a,o,"Got unwanted exception"+i),t&&a&&o&&!w(a,o)||!t&&a)throw a}a.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var o=n.stack,i=e.name,a=o.indexOf("\n"+i);if(a>=0){var r=o.indexOf("\n",a+1);o=o.substring(r+1)}this.stack=o}}},n.inherits(a.AssertionError,Error),a.fail=u,a.ok=l,a.equal=function(t,e,n){t!=e&&u(t,e,n,"==",a.equal)},a.notEqual=function(t,e,n){t==e&&u(t,e,n,"!=",a.notEqual)},a.deepEqual=function(t,e,n){d(t,e)||u(t,e,n,"deepEqual",a.deepEqual)},a.notDeepEqual=function(t,e,n){d(t,e)&&u(t,e,n,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(t,e,n){t!==e&&u(t,e,n,"===",a.strictEqual)},a.notStrictEqual=function(t,e,n){t===e&&u(t,e,n,"!==",a.notStrictEqual)},a.throws=function(t,e,n){g.apply(this,[!0].concat(o.call(arguments)))},a.doesNotThrow=function(t,e){g.apply(this,[!1].concat(o.call(arguments)))},a.ifError=function(t){if(t)throw t};var p=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e}},{"util/":4}],2:[function(t,e){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],4:[function(t,e,n){(function(e,o){var i=/%[sdj%]/g;n.format=function(t){if(!C(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,a=o.length,r=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return t}}),c=o[n];n<a;c=o[++n])v(c)||!k(c)?r+=" "+c:r+=" "+s(c);return r},n.deprecate=function(t,i){if(S(o.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}};var a,r={};function s(t,e){var o={seen:[],stylize:u};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),y(e)?o.showHidden=e:e&&n._extend(o,e),S(o.showHidden)&&(o.showHidden=!1),S(o.depth)&&(o.depth=2),S(o.colors)&&(o.colors=!1),S(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=c),d(o,t,o.depth)}function c(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function u(t){return t}function l(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function d(t,e,o){if(t.customInspect&&e&&N(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(o,t);return C(i)||(i=d(t,i,o)),i}var a=h(t,e);if(a)return a;var r=Object.keys(e),s=l(r);if(t.showHidden&&(r=Object.getOwnPropertyNames(e)),L(e)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return f(e);if(0===r.length){if(N(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(A(e))return t.stylize(Date.prototype.toString.call(e),"date");if(L(e))return f(e)}var u,y="",v=!1,T=["{","}"];return m(e)&&(v=!0,T=["[","]"]),N(e)&&(y=" [Function"+(e.name?": "+e.name:"")+"]"),b(e)&&(y=" "+RegExp.prototype.toString.call(e)),A(e)&&(y=" "+Date.prototype.toUTCString.call(e)),L(e)&&(y=" "+f(e)),0!==r.length||v&&0!=e.length?o<0?b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=v?w(t,e,o,s,r):r.map(function(n){return g(t,e,o,s,n,v)}),t.seen.pop(),p(u,y,T)):T[0]+y+T[1]}function h(t,e){if(S(e))return t.stylize("undefined","undefined");if(C(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return T(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function w(t,e,n,o,i){for(var a=[],r=0,s=e.length;r<s;++r)D(e,String(r))?a.push(g(t,e,n,o,String(r),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(g(t,e,n,o,i,!0))}),a}function g(t,e,n,o,i,a){var r,s,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),D(o,i)||(r="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(n)?d(t,c.value,null):d(t,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),S(r)){if(a&&i.match(/^\d+$/))return s;(r=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=t.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=t.stylize(r,"string"))}return r+": "+s}function p(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function m(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function T(t){return"number"==typeof t}function C(t){return"string"==typeof t}function S(t){return void 0===t}function b(t){return k(t)&&"[object RegExp]"===x(t)}function k(t){return"object"==typeof t&&null!==t}function A(t){return k(t)&&"[object Date]"===x(t)}function L(t){return k(t)&&("[object Error]"===x(t)||t instanceof Error)}function N(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function _(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(S(a)&&(a=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!r[t])if(new RegExp("\\b"+t+"\\b","i").test(a)){var o=e.pid;r[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,o,e)}}else r[t]=function(){};return r[t]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=y,n.isNull=v,n.isNullOrUndefined=function(t){return null==t},n.isNumber=T,n.isString=C,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=S,n.isRegExp=b,n.isObject=k,n.isDate=A,n.isError=L,n.isFunction=N,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[_(t.getHours()),_(t.getMinutes()),_(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:6,inherits:2}],5:[function(t,e){(function(n){var o=t("util"),i=t("assert");function a(){return(new Date).getTime()}var r,s=Array.prototype.slice,c={};r=void 0!==n&&n.console?n.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){r.log.apply(r,arguments)},"info"],[function(){r.log.apply(r,arguments)},"warn"],[function(){r.warn.apply(r,arguments)},"error"],[function(t){c[t]=a()},"time"],[function(t){var e=c[t];if(!e)throw new Error("No such label: "+t);delete c[t];var n=a()-e;r.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=o.format.apply(null,arguments),r.error(t.stack)},"trace"],[function(t){r.log(o.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=s.call(arguments,1);i.ok(!1,o.format.apply(null,e))}},"assert"]],l=0;l<u.length;l++){var d=u[l],h=d[0],f=d[1];r[f]||(r[f]=h)}e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:1,util:"util"}],6:[function(t,e){var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(t){o=r}})();var u,l=[],d=!1,h=-1;function f(){d&&u&&(d=!1,u.length?l=u.concat(l):h=-1,l.length&&w())}function w(){if(!d){var t=s(f);d=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||d||s(w)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],CoinEffect:[function(t,e){"use strict";cc._RF.push(e,"770dbP1gdZKGqlcB311HApS","CoinEffect");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{starNode:{type:cc.Node,default:null},leafA_node:{type:cc.Node,default:null},leafB_node:{type:cc.Node,default:null},leafC_node:{type:cc.Node,default:null},leafA:{type:cc.Node,default:null},leafB:{type:cc.Node,default:null},leafC:{type:cc.Node,default:null}},onLoad:function(){this.isHaveStar=!0,this.time=.1,this.Init()},Init:function(){var t=this,e=n.Random.Range(70,120),o=n.Random.Range(70,120),i=n.Random.Range(70,120);this.leafA.setContentSize(cc.size(e,20)),this.leafB.setContentSize(cc.size(o,20)),this.leafC.setContentSize(cc.size(i,20)),this.leafA.color=cc.color(255,255,n.Random.Range(0,256),255),this.leafB.color=cc.color(255,255,n.Random.Range(0,256),255),this.leafC.color=cc.color(255,255,n.Random.Range(0,256),255),this.leafA_node.angle=n.Random.Range(0,360),this.leafB_node.angle=n.Random.Range(0,360),this.leafC_node.angle=n.Random.Range(0,360),this.leafA.setPosition(cc.v2(e/2+40,0)),this.leafB.setPosition(cc.v2(o/2+40,0)),this.leafC.setPosition(cc.v2(i/2+40,0)),this.isHaveStar?(this.time=.1,this.starNode.runAction(cc.scaleTo(this.time,0)),this.starNode.runAction(cc.fadeTo(this.time,0).easing(cc.easeCircleActionIn()))):(this.starNode.active=!1,this.time=.2);var a=cc.scaleTo(this.time,0),r=cc.callFunc(function(){return t.node.destroy()}),s=cc.sequence(a,r);this.leafA.runAction(s),this.leafA.runAction(cc.fadeTo(this.time,0).easing(cc.easeCircleActionIn())),this.leafB.runAction(cc.scaleTo(this.time,0)),this.leafB.runAction(cc.fadeTo(this.time,0).easing(cc.easeCircleActionIn())),this.leafC.runAction(cc.scaleTo(this.time,0)),this.leafC.runAction(cc.fadeTo(this.time,0).easing(cc.easeCircleActionIn()))}}),cc._RF.pop()},{PartyLib:"PartyLib"}],CoinHasStar:[function(t,e){"use strict";cc._RF.push(e,"bbfa1VMvWNMt7M8UY/nhLtt","CoinHasStar");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{starEffect:{type:cc.Prefab,default:null}},ctor:function(){this.starEffect=null,this.star=null},onLoad:function(){this.starAnim()},update:function(){this.star.position=this.star.position.lerp(this.node.position,.15)},starAnim:function(){this.star=cc.instantiate(this.starEffect),this.star.setParent(this.node.parent);var t=cc.scaleTo(n.Random.Range(.05,.2,!1),.8),e=cc.scaleTo(n.Random.Range(.05,.2,!1),.2),o=cc.sequence(t,e);this.star.runAction(cc.repeatForever(o))}}),cc._RF.pop()},{PartyLib:"PartyLib"}],CombRing:[function(t,e){"use strict";function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new L(o||[]);return i(r,"_invoke",{value:S(t,n,s)}),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var h={};function f(){}function w(){}function g(){}var p={};u(p,r,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&o.call(y,r)&&(p=y);var v=g.prototype=f.prototype=Object.create(p);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){function n(i,a,r,s){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(l).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;i(this,"_invoke",{value:function(t,o){function i(){return new e(function(e,i){n(t,o,e,i)})}return a=a?a.then(i,i):i()}})}function S(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function b(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=g,i(v,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:w,configurable:!0}),w.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},T(C.prototype),u(C.prototype,s,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new C(l(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(v),u(v,c,"Generator"),u(v,r,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return r.type="throw",r.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,o,i,a,r){try{var s=t[a](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,i)}cc._RF.push(e,"d311b6k/AlHTp6Mjou8Ypu5","CombRing");var i=t("PartyLib");cc.Class({extends:cc.Component,properties:{isPlaying:!1,isSkinPanelEffect:!1,combRings:{type:cc.Node,default:[]},follow_target:{type:cc.Node,default:null}},update:function(){this.isPlaying&&!this.isSkinPanelEffect&&(this.node.position=cc.v2(0,this.follow_target.position.y+82))},Play:function(){if(!this.isPlaying){this.isPlaying=!0;for(var t=0;t<this.combRings.length;t++)this.combRings[t].stopAllActions(),this.combRings[t].scale=0,this.combRings[t].opacity=255;this.node.active=!0,this.combRings[0].color=cc.color(255,251,156,255),this.combRings[1].color=cc.color(243,197,255,255),this.combRings[2].color=cc.color(197,236,255,255),this.combRings[3].color=cc.color(213,239,252,255),this.combRings[4].color=cc.color(228,234,236,255),this.PlayAnim()}},Close:function(){if(this.isPlaying){for(var t=0;t<this.combRings.length;t++)this.combRings[t].stopAllActions(),this.combRings[t].scale=0;this.node.active=!1,this.isPlaying=!1}},PlayAnim:function(){var t=this;(function(){var e,a=(e=n().mark(function e(){var o,a;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=n().mark(function e(o){var a,r,s,c,u,l,d,h,f,w,g;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.combRings[o].stopAllActions(),a=cc.scaleTo(.3333,1.2),r=cc.scaleTo(.1667,1.2),s=cc.callFunc(function(){t.combRings[o].scale=0}),c=cc.scaleTo(.3333,0),u=cc.sequence(a,r,s,c),l=cc.repeatForever(u),t.combRings[o].runAction(l),d=cc.fadeOut(.5).easing(cc.easeQuadraticActionIn()),h=cc.fadeOut(.3333),f=cc.callFunc(function(){t.combRings[o].opacity=255}),w=cc.sequence(d,h,f),g=cc.repeatForever(w),t.combRings[o].runAction(g),e.next=7,i.WaitForSeconds(.1667);case 7:case"end":return e.stop()}},e)}),a=0;case 2:if(!(a<t.combRings.length)){e.next=7;break}return e.delegateYield(o(a),"t0",4);case 4:a++,e.next=2;break;case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(t){o(r,i,a,s,c,"next",t)}function c(t){o(r,i,a,s,c,"throw",t)}s(void 0)})});return function(){return a.apply(this,arguments)}})()()}}),cc._RF.pop()},{PartyLib:"PartyLib"}],EffectPanel:[function(t,e){"use strict";function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new L(o||[]);return i(r,"_invoke",{value:S(t,n,s)}),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var h={};function f(){}function w(){}function g(){}var p={};u(p,r,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&o.call(y,r)&&(p=y);var v=g.prototype=f.prototype=Object.create(p);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){function n(i,a,r,s){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(l).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;i(this,"_invoke",{value:function(t,o){function i(){return new e(function(e,i){n(t,o,e,i)})}return a=a?a.then(i,i):i()}})}function S(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function b(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=g,i(v,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:w,configurable:!0}),w.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},T(C.prototype),u(C.prototype,s,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new C(l(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(v),u(v,c,"Generator"),u(v,r,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return r.type="throw",r.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,o,i,a,r){try{var s=t[a](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,i)}cc._RF.push(e,"7915bKKbVhFn6P2OMFWuLHC","EffectPanel");var i=t("PartyLib"),a=t("CombRing"),s=t("LightEffect");cc.Class({extends:cc.Component,properties:{GameReadyEffcet:{type:cc.Node,default:null},effect_tufo_light:{type:cc.Node,default:null},effect_ring:{type:cc.Node,default:null},coinStarEffect:{type:cc.Prefab,default:null},star_a:{type:cc.Prefab,default:null},fireEffect:{type:cc.Prefab,default:null},GroundEffectNode:{type:cc.Node,default:null},GroundPs:{type:cc.ParticleSystem,default:null},combRing:{type:cc.Node,default:null},groupStarsNode:{type:cc.Node,default:[]},groupCircleNode:{type:cc.Node,default:[]},effect_bg:{type:cc.Node,default:null},coinTarget:{type:cc.Node,default:null},worldParent:{type:cc.Node,default:null},uiCoinTxt:{type:cc.Label,default:null},DeathEffectPanel:{type:cc.Node,default:null},DeathEffectNode:{type:cc.Node,default:null},DeathPs:cc.ParticleSystem,DeathEffectStar:cc.Node,skinUnLockPanel:cc.Node,skinUnLockPanelBg:cc.Node,skinReadyPanel:cc.Node,skinGetPanel:cc.Node,skinGetPanelShare:cc.Node,skinTapNode:cc.Node,skinTofuNode:cc.Node,skinRing:a,skinNameLabel:cc.Label,skinPlayer:sp.Skeleton,skinParticelNode:{type:cc.ParticleSystem,default:[]},skinLightEffect:s},onLoad:function(){this.isPlayGroupEffect=!1,this.combRing.active=!1,this.player_combRing=this.combRing.getComponent("CombRing"),this.groupStars=[];for(var t=0;t<this.groupStarsNode.length;t++){var e=this.groupStarsNode[t];e.active=!1,this.groupStars.push(e.getComponent("GroupStars"))}this.groupCircle=[];for(var n=0;n<this.groupCircleNode.length;n++){var o=this.groupCircleNode[n];o.active=!1,this.groupCircle.push(o.getComponent("GroupCircle"))}this.uiCoinTxt.node.active=!1,this.DeathEffectPanel.active=!1,this.skinUnLockPanel.active=!1,this.skinLightEffect.node.active=!1},GameStartReadyEffect:function(){var t=this;this.GameReadyEffcet.active=!0,this.GameReadyEffcet.stopAllActions(),this.GameReadyEffcet.scale=0;var e=cc.scaleTo(.2,.5).easing(cc.easeSineInOut()),n=cc.callFunc(function(){return t.GameReadyEffcet.active=!1}),o=cc.sequence(e,n);this.GameReadyEffcet.runAction(o)},PlayTufoLight:function(t){this.effect_tufo_light.position=t,this.effect_tufo_light.active=!0,this.effect_tufo_light.opacity=180,this.effect_tufo_light.runAction(cc.fadeOut(.1))},PlayRingEffect:function(t){var e=this;this.effect_ring.position=t,this.effect_ring.stopAllActions(),this.effect_ring.scale=.9,this.effect_ring.active=!0,this.effect_ring.runAction(cc.scaleTo(.3,2.4).easing(cc.easeSineOut()));var n=cc.fadeIn(.1).easing(cc.easeSineIn()),o=cc.rotateTo(.1,0),i=cc.fadeOut(.1).easing(cc.easeSineOut()),a=cc.callFunc(function(){return e.effect_ring.active=!1}),r=cc.sequence(n,o,i,a);this.effect_ring.runAction(r)},PlayCoinWalletAnim:function(t,e){var n=window.TofuCon.gameMager.GetFollowCameraPos(e);console.log("PlayCoinWalletAnim",n.x,n.y),e=cc.v2(n.x,n.y);for(var o=0;o<t;o++){var a=cc.instantiate(this.coinStarEffect);a.setParent(this.node);var r=cc.v2(i.Random.Range(-1,1,!1),i.Random.Range(-1,1,!1));r=r.normalize();var s=cc.v2(i.Random.Range(10,60,!1)*r.x,i.Random.Range(10,60,!1)*r.y),c=e.add(s);a.position=c,a.getComponent(cc.Animation).play("coin",i.Random.Range(0,.27,!1)),this.FlyOut(a,this.coinTarget.position)}window.TofuCon.audioMager.PlayAudioByName("9_Celebrate")},FlyOut:function(t,e){var n=cc.moveTo(i.Random.Range(.3,1,!1),e).easing(cc.easeSineOut()),o=cc.callFunc(function(){t.getComponent("CoinHasStar").star.destroy(),t.destroy()}),a=cc.sequence(n,o);t.runAction(a)},PlayStarEffectA:function(t){var e=cc.instantiate(this.star_a),n=e.getComponent(cc.ParticleSystem);e.group="Game",e.setParent(this.worldParent),e.setSiblingIndex(0),e.position=t,cc.tween(this.node).delay(n.duration+.4).call(function(){null!=e&&e.destroy()}).start()},PlayCoinEffect:function(t,e,n){void 0===t&&(t=!1);var o=cc.instantiate(this.fireEffect);if(o.getComponent("CoinEffect").isHaveStar=n,t)o.group="Game",o.setParent(this.worldParent),o.position=e;else{o.setParent(this.node);var i=window.TofuCon.gameMager.followCam.getWorldToScreenPoint(e,void 0);o.position=cc.v2(i.x,i.y)}},GroundEffect:function(t){var e=this;this.GroundEffectNode.active=!0,this.GroundEffectNode.position=t,this.GroundPs.resetSystem(),cc.tween(this.node).delay(1).call(function(){e.GroundEffectNode.active=!1}).start()},PlayCombBgAnim:function(){this.effect_bg.opacity=0,this.effect_bg.active=!0,this.effect_bg.runAction(cc.fadeIn(.4)),this.PlayCombBgGroupsAnim()},PlayCombBgGroupsAnim:function(){var t=this;(function(){var e,a=(e=n().mark(function e(){var o,a;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isPlayGroupEffect=!0,e.next=3,i.WaitForSeconds(.5);case 3:o=0;case 4:if(!(o<t.groupStars.length)){e.next=11;break}return t.isPlayGroupEffect&&t.groupStars[o].Play(),e.next=8,i.WaitForSeconds(i.Random.Range(.05,1,!1));case 8:o++,e.next=4;break;case 11:a=0;case 12:if(!(a<t.groupCircle.length)){e.next=19;break}return t.isPlayGroupEffect&&t.groupCircle[a].Play(),e.next=16,i.WaitForSeconds(i.Random.Range(.05,1,!1));case 16:a++,e.next=12;break;case 19:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(t){o(r,i,a,s,c,"next",t)}function c(t){o(r,i,a,s,c,"throw",t)}s(void 0)})});return function(){return a.apply(this,arguments)}})()()},CloseCombBgAnim:function(){this.effect_bg.stopAllActions(),this.effect_bg.active=!1,this.CloseCombBgGroupsAnim()},CloseCombBgGroupsAnim:function(){this.isPlayGroupEffect=!1;for(var t=0;t<this.groupStars.length;t++)this.groupStars[t].Close();for(var e=0;e<this.groupCircle.length;e++)this.groupCircle[e].Close()},GetOtherCoin:function(t){var e=this;this.uiCoinTxt.node.stopAllActions(),this.uiCoinTxt.string="+"+t.toString(),this.uiCoinTxt.node.active=!0,this.uiCoinTxt.node.opacity=255;var n=cc.moveTo(.5,cc.v2(this.uiCoinTxt.node.position.x,this.uiCoinTxt.node.position.y+80)),o=cc.callFunc(function(){e.uiCoinTxt.node.position=cc.v2(0,100),e.uiCoinTxt.node.active=!1}),i=cc.sequence(n,o);this.uiCoinTxt.node.runAction(i),setTimeout(function(){e.uiCoinTxt.node.runAction(cc.fadeOut(.1))},350)},playADBtnANi:function(t){cc.tween(t).repeatForever(cc.tween().to(.5,{scale:1.1}).to(.5,{scale:1})).start()},DeathEffect:function(t){var e=this;this.DeathEffectPanel.active=!0,this.DeathEffectNode.position=t,this.DeathEffectStar.stopAllActions(),this.DeathEffectStar.scale=0,this.DeathEffectStar.color=cc.color(255,255,i.Random.Range(0,255));var n=cc.scaleTo(.14,.4),o=cc.callFunc(function(){return e.DeathEffectStar.scale=0}),a=cc.sequence(n,o);this.DeathEffectStar.runAction(a),this.DeathPs.resetSystem(),setTimeout(function(){e.DeathEffectPanel.active=!1},1200)},UnLockSkin:function(t,e,n){var o=this;void 0===t&&(t=0),void 0===n&&(n=!1),this.skinReadyPanel.active=!0,this.skinGetPanel.active=!1,this.skinUnLockPanelBg.opacity=0,this.skinUnLockPanel.active=!0,this.skinTapNode.active=!1,this.skinTofuNode.position=cc.v2(0,window.TofuCon.canvas.node.height/2+300),this.skinUnLockPanelBg.runAction(cc.fadeTo(.3,70));var i=cc.moveTo(.3,cc.v2()),a=cc.callFunc(function(){o.skinTapNode.active=!0,o.skinTapNode.stopAllActions(),o.skinTapNode.position=cc.v2(0,280);var t=cc.moveTo(.3,cc.v2(0,330)).easing(cc.easeCubicActionOut()),e=cc.moveTo(.3,cc.v2(0,280)).easing(cc.easeCubicActionIn()),n=cc.sequence(t,e);o.skinTapNode.runAction(cc.repeatForever(n))}),r=cc.sequence(i,a);this.skinTofuNode.runAction(r),this.roleSkinID=t,this.isRole=e,this.isSignDouble=n,e?(this.skinPlayer.node.position=cc.v2(-15,-66),this.skinNameLabel.string=window.TofuCon.gameData.role_name[t-1],t>0&&(this.skinPlayer.skeletonData=window.TofuCon.assets[window.TofuCon.gameData.role_spine_name[t-1]])):(this.skinPlayer.node.position=cc.v2(0,-66),this.skinNameLabel.string=window.TofuCon.gameData.tufo_name[t-1],t>0&&(this.skinPlayer.skeletonData=window.TofuCon.gameData.tufo_skeletonData[t-1])),window.TofuCon.audioMager.PlayAudioByName("bound")},TapBtnClick:function(){var t=this;this.skinReadyPanel.active=!1,this.skinGetPanel.active=!0;for(var e=0;e<this.skinParticelNode.length;e++)this.skinParticelNode[e].resetSystem();this.skinRing.Play(),this.isRole&&(this.skinPlayer.clearTrack(0),this.skinPlayer.setAnimation(0,"1007",!1)),this.skinLightEffect.PlayLightEffect(),window.TofuCon.audioMager.PlayAudioByName("9_Celebrate"),setTimeout(function(){if(t.skinRing.Close(),t.skinGetPanel.active=!1,t.skinUnLockPanel.active=!1,t.skinLightEffect.CloseLightEffect(),t.isSignDouble)if(g.default.Instance.isHasLockedSkin){var e=g.default.Instance.GetLockedSkinID();t.UnLockSkin(e,!0,!1),g.default.Instance.UnLockedSkin(e),null!=r.default.Instance.skinPanel&&r.default.Instance.skinPanel.UnlockSkin(e)}else g.default.Instance.AddCoin(120)},3e3)},ShockLong:function(){"undefined"!=typeof wx&&window.TofuCon.gameData.shock_switch&&wx.vibrateLong({})},ShockShort:function(){"undefined"!=typeof wx&&window.TofuCon.gameData.shock_switch&&wx.vibrateShort({})},PlayCoinWalletLightEffect:function(){var t=this;this.coinWalletLightEffects[0].active=!0;for(var e=1;e<this.coinWalletLightEffects.length;e++)this.coinWalletLightEffects[e].active=!0,this.coinWalletLightEffects[e].scale=1,e>3&&(this.coinWalletLightEffects[e].angle=i.Random.Range(0,360),this.coinWalletLightEffects[e].runAction(cc.scaleTo(.2,0).easing(cc.easeCubicActionIn())));this.coinWalletLightEffects[1].angle=i.Random.Range(0,360),this.coinWalletLightEffects[2].angle=i.Random.Range(0,360),this.coinWalletLightEffects[1].runAction(cc.scaleTo(.15,0)),this.coinWalletLightEffects[2].runAction(cc.scaleTo(.15,0)),this.coinWalletLightEffects[3].runAction(cc.scaleTo(.17,2.4).easing(cc.easeCubicActionIn())),setTimeout(function(){t.coinWalletLightEffects[0].active=!1},210)}}),cc._RF.pop()},{CombRing:"CombRing",LightEffect:"LightEffect",PartyLib:"PartyLib"}],FollowCam:[function(t,e){"use strict";cc._RF.push(e,"c9724QzyLNKs4UbVzndGO+J","FollowCam"),cc.Class({extends:cc.Component,properties:{GameFcd:null,canvas:{type:cc.Canvas,default:null},cam:{type:cc.Camera,default:null},target:{type:cc.Node,default:null},bgNode:{type:cc.Node,default:null},targetZoomValue:0,initPos:null,touchAreaInitPos:null,bgInitPos:null,initOffset:null,offset:null,isPlayEndCamViewAnim:!1,endCamAnimSpeed:0,endCamAnimTimer:0,endCamAnimDuration:0,endCamPosSpeed:0},onLoad:function(){this.target&&(this.offset=this.node.position.sub(this.target.position)),this.initOffset=this.offset,this.initPos=this.node.position,this.bgInitPos=this.bgNode.position},start:function(){console.log(this.canvas.designResolution.width.toString()+this.canvas.designResolution.height.toString()+this.canvas.node.width.toString()+this.canvas.node.height.toString())},update:function(t){this.isPlayEndCamViewAnim&&(this.endCamAnimTimer+=t,this.cam.zoomRatio-=this.endCamAnimSpeed*t,this.cam.zoomRatio<=0&&(this.cam.zoomRatio=this.targetZoomValue),this.node.position=cc.v2(0,this.node.position.y-this.endCamPosSpeed*t),this.endCamAnimTimer>this.endCamAnimDuration&&(this.isPlayEndCamViewAnim=!1))},playEndCamAnim:function(t,e,n){this.targetZoomValue=e,this.endCamAnimSpeed=Math.abs(e-1)/t,this.endCamAnimDuration=t,this.endCamAnimTimer=0,this.endCamPosSpeed=Math.abs(this.node.position.y-n)/t,this.isPlayEndCamViewAnim=!0},UpdateCamPos:function(){this.node.runAction(cc.moveTo(.15,this.target.position.add(this.offset)))},ResetCam:function(){this.node.position=this.initPos},Ready:function(){this.ResetCam()},ReLife:function(){a.default.Instance.mainPanel.touchAreaNode.active=!0,this.UpdateCamPos()},End:function(){a.default.Instance.mainPanel.touchAreaNode.active=!1},EndCamAnim:function(){var t=1/((94.5*a.default.Instance.playerController.totalTufoNum+1.5*this.canvas.node.height)/this.canvas.node.height),e=(94.5*a.default.Instance.playerController.totalTufoNum+283.5)/2-255;this.playEndCamAnim(.35,t,e)},EndReset:function(){this.ResetCam(),this.cam.zoomRatio=1}}),cc._RF.pop()},{}],GameData:[function(t,e){"use strict";cc._RF.push(e,"9e0adGxWSxA66kl5pdkJcmV","GameData");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{tufo_skeletonData:{type:sp.SkeletonData,default:[]}},ctor:function(){console.log("creat GameData"),this.role_spine_name=["xishi","xishi1","changqun1","changqun2","changqun3","changqun4","changqun5","changqun6","changqun7","changqun8","duan1","duan2","changqun10","changqun9","changqun11","changqun12"],this.role_name=["Petite Belle","Chrysanthemum","Bamboo","Little Princess","Little Princess","Noble Lady","Xiaolongbao","Empress","Tibetan Girl","Yellow Chubby","Blue Chubby","Pretty Boy","Jade Princess","Monk","Little Sailor"],this.tufo_name=["Cake","Pork Belly","Pudding","Cheese"],this.coinNum=0,this.maxScore=0,this.maxDayScore=0,this.isGuided1=0,this.isGuided2=0,this.skinData=null,this.skins=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.tufoSkins=[1,0,0,0],this.justUnlockskins=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.justUnlocktufoSkins=[0,0,0,0],this.curSkinId=1,this.curTufoSkinId=1,this.isHasLockedSkin=!1,this.shopCurPrice=100,this.shopVideoCoin=50,this.darenSkinID=15,this.hintNums=0,this.audio_switch=!0,this.shock_switch=!0,this.isNewPlayer=0},onLoadData:function(){this.coinNum=parseInt(cc.sys.localStorage.getItem("CoinNum")),this.coinNum!=this.coinNum&&(console.log("----no----"+this.coinNum),this.coinNum=0,cc.sys.localStorage.setItem("CoinNum",this.coinNum)),this.maxScore=parseInt(cc.sys.localStorage.getItem("MaxScore")),this.maxScore!=this.maxScore&&(this.maxScore=0,cc.sys.localStorage.setItem("MaxScore",this.maxScore)),this.maxDayScore=parseInt(cc.sys.localStorage.getItem("maxDayScore")),this.maxDayScore!=this.maxDayScore&&(this.maxDayScore=0,cc.sys.localStorage.setItem("maxDayScore",this.maxDayScore)),this.isGuided1=parseInt(cc.sys.localStorage.getItem("Guide1")),this.isGuided1!=this.isGuided1&&(this.isGuided1=0,cc.sys.localStorage.setItem("Guide1",this.isGuided1)),this.isGuided2=parseInt(cc.sys.localStorage.getItem("Guide2")),this.isGuided2!=this.isGuided2&&(this.isGuided2=0,cc.sys.localStorage.setItem("Guide2",this.isGuided2));var t=cc.sys.localStorage.getItem("skinData");if(t){if(this.skinData=JSON.parse(t),this.curSkinId=this.skinData.curRoleid,this.curTufoSkinId=this.skinData.curTufoid,this.curTufoSkinId>4&&(this.curTufoSkinId=4),this.skins=this.skinData.skins,15==this.skins.length){var e=[this.skins[0],this.skins[1],this.skins[2],this.skins[3],this.skins[4],this.skins[5],this.skins[6],this.skins[7],this.skins[8],this.skins[9],this.skins[10],this.skins[11],this.skins[12],this.skins[13],this.skins[14],0];this.skins=e}if(13==this.skins.length){var n=[this.skins[0],this.skins[1],this.skins[2],this.skins[3],this.skins[4],this.skins[5],this.skins[6],this.skins[7],this.skins[8],this.skins[9],this.skins[10],this.skins[11],this.skins[12],0,0,0];this.skins=n}if(this.tufoSkins=this.skinData.tufos,3==this.tufoSkins.length){var o=[this.tufoSkins[0],this.tufoSkins[1],this.tufoSkins[2],0];this.tufoSkins=o}this.isHasLockedSkin=this.IsHasLockRoleSkin()}else this.skinData={skins:this.skins,tufos:this.tufoSkins,curRoleid:this.curSkinId,curTufoid:this.curTufoSkinId},cc.sys.localStorage.setItem("skinData",JSON.stringify(this.skinData));this.isHasLockedSkin=this.IsHasLockRoleSkin(),console.log("---[]"+this.isHasLockedSkin),this.shopCurPrice=parseInt(cc.sys.localStorage.getItem("TofuPrice")),this.shopCurPrice!=this.shopCurPrice&&(this.shopCurPrice=100,cc.sys.localStorage.setItem("TofuPrice",this.shopCurPrice)),this.isNewPlayer=parseInt(cc.sys.localStorage.getItem("IsNewPlayer")),this.isNewPlayer!=this.isNewPlayer?(this.isNewPlayer=0,cc.sys.localStorage.setItem("IsNewPlayer",this.isNewPlayer)):this.isNewPlayer=1},RecordScore:function(){window.TofuCon.GameLocal.score>=this.maxScore&&(this.maxScore=window.TofuCon.GameLocal.score,cc.sys.localStorage.setItem("MaxScore",this.maxScore),window.TofuCon.uiMager.UpdateMaxScore(),console.log("---------score:"+this.maxScore)),window.TofuCon.GameLocal.score.score>=this.maxDayScore&&(this.maxDayScore=window.TofuCon.GameLocal.score,cc.sys.localStorage.setItem("maxDayScore",this.maxDayScore))},AddCoin:function(t){this.coinNum+=t,cc.sys.localStorage.setItem("CoinNum",this.coinNum),window.TofuCon.uiMager.UpdateCoin()},UnLockedSkin:function(t){this.skins[t-1]=1,this.skinData={skins:this.skins,tufos:this.tufoSkins,curRoleid:this.curSkinId,curTufoid:this.curTufoSkinId},cc.sys.localStorage.setItem("skinData",JSON.stringify(this.skinData)),this.isHasLockedSkin=this.IsHasLockRoleSkin(),this.justUnlockskins[t-1]=1,window.TofuCon.uiMager.PointTip(2,!0)},UnLockedTufo:function(t){this.tufoSkins[t-1]=1,this.skinData={skins:this.skins,tufos:this.tufoSkins,curRoleid:this.curSkinId,curTufoid:this.curTufoSkinId},cc.sys.localStorage.setItem("skinData",JSON.stringify(this.skinData))},GetUnlockSkinNum:function(){for(var t=0,e=0;e<this.skins.length;e++)1==this.skins[e]&&t++;return t},GetUnlockTofuNum:function(){for(var t=0,e=0;e<this.tufoSkins.length;e++)1==this.tufoSkins[e]&&t++;return t},GetLockedSkinID:function(){for(var t=[],e=0;e<this.skins.length;e++)0==this.skins[e]&&e!=this.darenSkinID&&t.push(e);return t.length>0?t[n.Random.Range(0,t.length)]+1:-1},IsHasLockRoleSkin:function(){for(var t=0;t<this.skins.length;t++)if(0==this.skins[t])return!0;return!1},SaveSkinData:function(){this.skinData={skins:this.skins,tufos:this.tufoSkins,curRoleid:this.curSkinId,curTufoid:this.curTufoSkinId},cc.sys.localStorage.setItem("skinData",JSON.stringify(this.skinData))}}),cc._RF.pop()},{PartyLib:"PartyLib"}],GameManager:[function(t,e){"use strict";function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new L(o||[]);return i(r,"_invoke",{value:S(t,n,s)}),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var h={};function f(){}function w(){}function g(){}var p={};u(p,r,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&o.call(y,r)&&(p=y);var v=g.prototype=f.prototype=Object.create(p);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){function n(i,a,r,s){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(l).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;i(this,"_invoke",{value:function(t,o){function i(){return new e(function(e,i){n(t,o,e,i)})}return a=a?a.then(i,i):i()}})}function S(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function b(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=g,i(v,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:w,configurable:!0}),w.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},T(C.prototype),u(C.prototype,s,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new C(l(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(v),u(v,c,"Generator"),u(v,r,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return r.type="throw",r.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,o,i,a,r){try{var s=t[a](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,i)}cc._RF.push(e,"6d948UYNptParwSSKwLzhrB","GameManager");var i=t("General"),a=t("PartyLib"),r=t("TuFo");cc.Class({extends:cc.Component,properties:{isJump:!1,GameFCD:null,isBanInput:!1,isDead:!1,isPauseGame:!1,lastJumpId:null,followCamera:{type:cc.Camera,default:null},player_Ske:{type:sp.Skeleton,default:null},player:{type:cc.Node,default:null},firstTufoNode:{type:cc.Node,default:null},tufo_prefab:{type:cc.Prefab,default:null},coinBox_tufo_prefab:{type:cc.Prefab,default:null},rewardBox_tufo_prefab:{type:cc.Prefab,default:null},tufo_Parent_Root:{type:cc.Node,default:null},touchAreaNode:{type:cc.Node,default:null},shadowNode:{type:cc.Node,default:null},firstTufo:{type:r,default:null}},PlayerInit:function(){this.player.stopAllActions(),this.player.position=this.initPos,this.shadowNode.position=cc.v2(this.player.position.x,this.initPos.y-2),this.shadowNode.active=!0,this.player_Ske.clearTrack(0),this.player_Ske.setAnimation(0,"1001",!0),window.TofuCon.GameLocal.reLifeNum=0,console.log("---------------"+window.TofuCon.GameLocal.reLifeNum),this.totalTufoNum=1,this.isJump=!1,this.isDeadPosX=!1},GameReady:function(){this.followCam.Ready(),this.initPos=this.player.position,this.player_Ske.timeScale=2,this.player_Ske.clearTrack(0),this.player_Ske.setAnimation(0,"1004",!1),this.curTufo=this.firstTufo,this.curTufoNode=this.firstTufo.node,this.curGroundTufo=this.firstTufo,this.curLastNode=null,this.combTufoList.Add(this.curTufo),this.isGaming=!0,this.ReadyCreateFirstTufo(),this.touchAreaNode.active=!0,this.touchAreaNode.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.touchAreaNode.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.touchAreaNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},onLoad:function(){this.combMaxNum=12,this.needCoinTufo=-1,this.combNum=0,this.isGaming=!1,this.createTufoTimer=0,this.getWalletCoinNum=0,this.followCam=this.followCamera.getComponent("FollowCam"),this.curTotleTufoList=new i.List,this.curActionTufoList=new i.List,this.combTufoList=new i.List},onTouchStart:function(){var t=this;if(console.log("touch_down>:"+this.isJump+"-"+this.isGaming,this.touchAreaNode.y),!this.isBanInput&&(window.TofuCon.guideMager.BtnClick(),!this.isJump&&this.isGaming)){this.isDead=!1,this.shadowNode.active=!1,this.player_Ske.clearTrack(0),this.combNum>=this.combMaxNum?(this.combNum==this.combMaxNum?(window.TofuCon.gameEffect.player_combRing.Play(),this.curTufoNode.position.x>0?this.player.scaleX=Math.abs(this.player.scaleX):this.player.scaleX=-1*Math.abs(this.player.scaleX)):this.player.scaleX*=-1,this.playJumpAni(!1)):this.playJumpAni(),this.isJump=!0;var e=this.player.position.y,n=cc.moveTo(.35,cc.v2(this.player.position.x,e+187.98)).easing(cc.easeQuadraticActionOut()),o=cc.callFunc(function(){return t.isJumpDown=!0}),i=cc.moveTo(.3428,cc.v2(this.player.position.x,e)).easing(cc.easeQuadraticActionIn()),a=cc.callFunc(function(){t.isJump=!1,t.isJumpDown=!1,t.isDeadPosX=!1,t.followCam.UpdateCamPos(),t.player_Ske.clearTrack(0),t.player_Ske.setAnimation(0,"1002",!1),t.shadowNode.position=cc.v2(t.player.position.x,e-2),t.shadowNode.active=!0,t.curGroundTufo.tufoSke.clearTrack(0),t.curGroundTufo.tufoSke.setAnimation(0,"3001",!1),t.curGroundTufo.node.position.y>-200&&t.curGroundTufo.PlayCurEffect(),window.TofuCon.audioMager.PlayAudioByName("bound")}),r=cc.sequence(n,o,i,a);this.player.runAction(r),window.TofuCon.audioMager.PlayAudioByName("jump")}},playJumpAni:function(t){void 0===t&&(t=!0),t?"1003"==this.lastJumpId?(this.player_Ske.setAnimation(0,"1009",!1),this.lastJumpId="1009"):(this.player_Ske.setAnimation(0,"1003",!1),this.lastJumpId="1003"):"2001"!=this.lastJumpId&&"2002"!=this.lastJumpId?(this.player_Ske.setAnimation(0,"2001",!1),this.lastJumpId="2001"):(this.player_Ske.setAnimation(0,"2002",!1),this.lastJumpId="2002")},onTouchEnd:function(){},start:function(){},ReadyCreateFirstTufo:function(){var t=this;this.tufo_Parent=cc.instantiate(this.tufo_Parent_Root),this.tufo_Parent.parent=this.tufo_Parent_Root.parent,this.tufo_Parent.setSiblingIndex(this.tufo_Parent_Root.getSiblingIndex()+1),setTimeout(function(){t.player_Ske.timeScale=1,t.awaitTufo=null,t.isDead=!1,t.isCheckCreateTufo=!0,t.isCheckingGround=!0,console.log("ReadyCreateFirstTufo")},500)},checkEnd:function(){(this.curTufoNode.position.x>-108&&this.curTufoNode.position.x<0||this.curTufoNode.position.x<108&&this.curTufoNode.position.x>0)&&!this.isDeadPosX&&(this.isDeadPosX=!0,this.player.position.y<this.curTufoNode.position.y+94.5&&this.player.position.y>this.curTufoNode.position.y&&this.GameEnd())},checkCreateTufo:function(t){this.isCheckCreateTufo&&!this.isDead&&(this.createTufoTimer+=t,this.createTufoTimer>=1&&null==this.awaitTufo&&this.curActionTufoList.Count<3&&(this.createTufoTimer=0,this.generateTufo()))},generateTufo:function(){console.log("generateTufo");var t=null;if(window.TofuCon.GameLocal.gameTimes<=6&&window.TofuCon.GameLocal.isCreatedRewardBoxTufo&&window.TofuCon.gameData.isHasLockedSkin){var e=a.Random.Range(0,1,!1);this.needCoinTufo%50==0?(t=cc.instantiate(this.coinBox_tufo_prefab),console.log("this.getWalletCoinNum:"+this.getWalletCoinNum),t.getComponent("TuFo").rewardCoin.string=this.getWalletCoinNum.toString(),this.needCoinTufo+=1):e<=.05?(window.TofuCon.GameLocal.isCreatedRewardBoxTufo=!0,t=cc.instantiate(this.rewardBox_tufo_prefab)):t=cc.instantiate(this.tufo_prefab)}else this.needCoinTufo%50==0?((t=cc.instantiate(this.coinBox_tufo_prefab)).getComponent("TuFo").rewardCoin.string=this.getWalletCoinNum.toString(),console.log("this.getWalletCoinNum:"+this.getWalletCoinNum),this.needCoinTufo+=1):t=cc.instantiate(this.tufo_prefab);var n;n=this.curActionTufoList.Count>0?this.curActionTufoList.Item(this.curActionTufoList.Count-1).node:null!=this.curTufoNode?this.curTufoNode:this.curLastNode,t.parent=this.tufo_Parent;var o=this.GetDir();if(t.getComponent("TuFo").iscoinTufo&&(o=1),t.position=cc.v2(550*o,n.position.y+94.5),t.scaleX*=o,this.awaitTufo=t.getComponent("TuFo"),this.awaitTufo.dir=o,this.curActionTufoList.Add(this.awaitTufo),this.curTotleTufoList.Add(this.awaitTufo),this.curTotleTufoList.Count>15){var i=this.curTotleTufoList.Item(0);this.curTotleTufoList.RemoveAt(0),null!=i.node?i.node.destroy():(console.log("wending............................."),console.log(i.toString()))}this.curTufo=this.curActionTufoList.Item(0),this.curTufoNode=this.curActionTufoList.Item(0).node,this.totalTufoNum++,console.log("ToFu:",this.awaitTufo.iscoinTufo)},GetDir:function(){return a.Random.GetBool()?1:-1},checkOnGround:function(){this.isCheckingGround&&!this.isDead&&null!=this.curTufoNode&&(this.checkEnd(),0==window.TofuCon.gameData.isGuided1&&!this.isGuide1ing&&this.curActionTufoList.Count>0&&Math.abs(this.curTufoNode.position.x)<185&&(this.isGuide1ing=!0,this.PauseGame(),window.TofuCon.guideMager.PlayGuideById(1)),!this.isDead&&this.isJumpDown&&this.isJump&&this.player.position.y<=this.curTufoNode.position.y+94.5&&!this.isGroundPosY&&this.checkOnGroundType())},checkTufoAction:function(){this.isCheckingGround&&!this.isDead&&null!=this.awaitTufo&&null!=this.curTufoNode&&(this.curTufoNode.position.x>-this.player.parent.width/2-this.curTufoNode.width/2||this.curTufoNode.position.x<this.player.parent.width/2+this.curTufoNode.width/2)&&this.TufoActionReady()},TufoActionReady:function(){this.isTufoActionWait||(console.log("TufoActionReady"),this.tufoActionWaitTime=this.GetWaitTimeDuration(),this.tufoActionWaitTimer=0,this.isTufoActionWait=!0,this.isHadTufoWaited=!1)},TufoWaitTimer:function(t){this.isTufoActionWait&&!this.isHadTufoWaited&&(this.tufoActionWaitTimer+=t,this.tufoActionWaitTimer>=this.tufoActionWaitTime&&(this.isHadTufoWaited=!0,this.TufoAction()))},TufoAction:function(){console.log("TufoAction");var t=this.awaitTufo,e=this.awaitTufo.node.position;this.awaitTufo=null;var n=this.GetActionDuration(),o=cc.moveTo(n,cc.v2(0,t.node.position.y)),i=cc.callFunc(function(){t.tufoSke.clearTrack(0),e.x>0&&(t.tufoNode.scaleX=Math.abs(t.tufoNode.scaleX)),t.tufoSke.setAnimation(0,"3005",!1)}),a=cc.sequence(o,i);t.mainAction=a,t.node.runAction(a)},GetActionDuration:function(){this.GetDifficultyLevel();var t=a.Random.Range(0,71,!1),e=0;return t>=this.speedWeight5?e=1.4:t>=this.speedWeight4?e=1.25:t>=this.speedWeight3?e=1.1:t>=this.speedWeight2?e=.95:t>=this.speedWeight1?e=.8:t>=0&&(e=.65),window.TofuCon.uiMager.isProp3&&(e=a.Random.Range(1.025,1.15,!1)),console.log("=======>TIME:"+e+"WEIGHT>:"+t),e},GetDifficultyLevel:function(){window.TofuCon.GameLocal.score<40?this.SetSpeedWeight(0,0,0,24,65,70):window.TofuCon.GameLocal.score<70?this.SetSpeedWeight(0,0,10,40,70,70):window.TofuCon.GameLocal.score<100?this.SetSpeedWeight(0,12,57,70,70,70):window.TofuCon.GameLocal.score<180?this.SetSpeedWeight(6,26,64,69,70,70):window.TofuCon.GameLocal.score<280?this.SetSpeedWeight(3,17,47,66,68,70):window.TofuCon.GameLocal.score<480?this.SetSpeedWeight(7,25,45,60,65,70):window.TofuCon.GameLocal.score<880?this.SetSpeedWeight(15,45,60,66,68,70):window.TofuCon.GameLocal.score<18888&&this.SetSpeedWeight(15,45,60,66,68,70)},WDRelifeTest:function(){var t=this;setTimeout(function(){t.isDead=!1,t.isCheckCreateTufo=!0,t.isCheckingGround=!0,t.isTufoActionWait=!1,t.touchAreaNode.active=!0,t.shadowNode.active=!0,t.awaitTufo=null},500)},GameEnd:function(){console.log("GameEnd"),this.needCoinTufo=-1,this.isDead=!0,this.isGaming=!1,this.isCheckCreateTufo=!1,this.isCheckingGround=!1,this.isTufoActionWait=!1,this.shadowNode.active=!1,this.player.stopAllActions(),this.curTufoNode.stopAllActions(),this.player.scaleX=Math.abs(this.player.scaleX),this.player_Ske.clearTrack(0),this.curTufo.tufoSke.clearTrack(0),this.curTufoNode.position.x>0?(this.player_Ske.setAnimation(0,"1005",!1),this.deathDir=-1):(this.player_Ske.setAnimation(0,"1008",!1),this.deathDir=1);var t=cc.v2();this.curTufoNode.position.x>0?t.x=10:t.x=-10,t.y=this.player.position.y+50,this.curTufo.tufoSke.setAnimation(0,"3004",!1),this.combNum=0,this.combTufoList.Clear(),this.StopAllTufoAction(),this.curTufoNode=null,this.touchAreaNode.active=!1,window.TofuCon.gameEffect.player_combRing.Close(),window.TofuCon.gameEffect.CloseCombBgAnim();var e=this.GetFollowCameraPos(t);window.TofuCon.gameEffect.DeathEffect(cc.v2(e.x,e.y)),window.TofuCon.audioMager.PlayAudioByName("tofu_fail"),window.TofuCon.audioMager.PlayAudioByName("girlHit"),window.TofuCon.gameEffect.ShockLong(),setTimeout(function(){window.TofuCon.GameLocal.reLifeNum<3?window.TofuCon.uiMager.ActiveReLifePanel():window.TofuCon.uiMager.showResult()},1600)},StopAllTufoAction:function(){null!=this.curTufo&&this.curTufoNode.stopAllActions();for(var t=0;t<this.curActionTufoList.Count;t++)this.curActionTufoList.Item(t).node.stopAllActions()},GetWaitTimeDuration:function(){return window.TofuCon.GameLocal.score<40?0:window.TofuCon.GameLocal.score<70?.05:window.TofuCon.GameLocal.score<100?.02:window.TofuCon.GameLocal.score<180?0:window.TofuCon.GameLocal.score<280?.05:window.TofuCon.GameLocal.score<480?.1:window.TofuCon.GameLocal.score<880?0:(window.TofuCon.GameLocal.score,0)},SetSpeedWeight:function(t,e,n,o,i,a){this.speedWeight1=t,this.speedWeight2=e,this.speedWeight3=n,this.speedWeight4=o,this.speedWeight5=i,this.speedWeight6=a},checkOnGroundType:function(){var t=Math.abs(this.curTufoNode.position.x);if(t<=84){this.player.stopAllActions(),this.player.position=cc.v2(this.player.position.x,this.curTufoNode.position.y+102),this.isGroundPosY=!1,this.isJump=!1,this.isDeadPosX=!1;var e=0;window.TofuCon.uiMager.isProp1&&(e=1),this.followCam.UpdateCamPos(),t>65?(this.player.scaleX=Math.abs(this.player.scaleX),this.player_Ske.clearTrack(0),this.curTufo.tufoNode.scaleX*=-1,this.curTufoNode.position.x>0?(this.player_Ske.setAnimation(0,"1007",!1),this.curTufo.tufoSke.setAnimation(0,"3002",!1)):(this.player_Ske.setAnimation(0,"1006",!1),this.curTufo.tufoSke.setAnimation(0,"3002",!1)),this.combNum=0,this.combTufoList.Clear(),this.GetScore(),e>0&&window.TofuCon.uiMager.AddCorrentTofe(e),window.TofuCon.audioMager.PlayAudioByName("TofuDrunk"),window.TofuCon.audioMager.PlayAudioByNameAsync("GirlPanic",.3),window.TofuCon.gameEffect.player_combRing.Close(),window.TofuCon.gameEffect.CloseCombBgAnim()):t>.5?(this.shadowNode.position=cc.v2(this.player.position.x,this.curTufoNode.position.y+100),this.shadowNode.active=!0,this.player_Ske.clearTrack(0),this.playreachAni(),this.curTufo.tufoSke.clearTrack(0),this.curTufo.tufoSke.setAnimation(0,"3001",!1),this.combNum=0,this.combTufoList.Clear(),this.GetScore(),e>0&&window.TofuCon.uiMager.AddCorrentTofe(e),window.TofuCon.audioMager.PlayAudioByName("bound"),window.TofuCon.gameEffect.player_combRing.Close(),window.TofuCon.gameEffect.CloseCombBgAnim()):(console.log("combNum",this.combNum),this.shadowNode.position=cc.v2(this.player.position.x,this.curTufoNode.position.y+100),this.shadowNode.active=!0,this.combNum>0&&this.tufoCombAnim(),this.combNum++,this.combTufoList.Add(this.curTufo),this.GetScore(),this.player_Ske.clearTrack(0),this.combNum>this.combMaxNum?this.playreachAni():(this.combNum==this.combMaxNum&&window.TofuCon.gameEffect.PlayCombBgAnim(),this.playreachAni()),this.curTufo.tufoSke.clearTrack(0),this.curTufo.tufoSke.setAnimation(0,"3001",!1),this.curTufo.PlayCurEffect(),window.TofuCon.audioMager.PlayAudioByName("bound"),this.combNum<=12?window.TofuCon.audioMager.PlayAudioByName("combo_"+this.combNum.toString()):window.TofuCon.audioMager.PlayAudioByName("combo_12"),window.TofuCon.uiMager.AddCorrentTofe(e+1),window.TofuCon.gameEffect.PlayCoinEffect(!0,this.player.position,!1),window.TofuCon.gameEffect.PlayStarEffectA(this.player.position),window.TofuCon.gameEffect.PlayRingEffect(this.player.position),window.TofuCon.gameEffect.PlayTufoLight(cc.v2(0,this.player.position.y-13))),this.curTufo.iscoinTufo&&(window.TofuCon.gameData.AddCoin(this.getWalletCoinNum),window.TofuCon.gameEffect.PlayCoinWalletAnim(40,this.player.position)),this.curTufo.node.stopAllActions(),this.curTufo.BoardAction(),this.curLastNode=this.curTufoNode,this.curGroundTufo=this.curTufo,this.curActionTufoList.RemoveAt(0),this.curActionTufoList.Count>0?(this.curTufoNode=this.curActionTufoList.Item(0).node,this.curTufo=this.curActionTufoList.Item(0)):(this.curTufo=null,this.curTufoNode=null),this.isTufoActionWait=!1,this.isGuide1ing=!1,window.TofuCon.gameEffect.GroundEffect(this.player.position),console.log("checkOnGroundType"),window.TofuCon.gameEffect.ShockShort()}},tufoCombAnim:function(){var t=this;(function(){var e,i=(e=n().mark(function e(){var o,i;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=t.combTufoList.Count)>0)){e.next=10;break}i=o-1;case 3:if(!(i>=0)){e.next=10;break}return e.next=6,a.WaitForSeconds(.06);case 6:i>=0&&i<t.combTufoList.Count&&t.combTufoList.Item(i).PlayEffect();case 7:i--,e.next=3;break;case 10:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(t){o(r,i,a,s,c,"next",t)}function c(t){o(r,i,a,s,c,"throw",t)}s(void 0)})});return function(){return i.apply(this,arguments)}})()()},GetFollowCamWorldPos:function(t){return this.followCamera.getCameraToWorldPoint(t,void 0)},GetFollowCameraPos:function(t){return this.followCamera.getWorldToScreenPoint(t,void 0)},PauseGame:function(){if(this.isPauseGame=!0,this.curActionTufoList.Count>0)for(var t=0;t<this.curActionTufoList.Count;t++)this.curActionTufoList.Item(t).node.pauseAllActions()},ResumeGame:function(){if(this.isPauseGame=!1,this.curActionTufoList.Count>0)for(var t=0;t<this.curActionTufoList.Count;t++)this.curActionTufoList.Item(t).node.resumeAllActions()},GetScore:function(){var t,e=1,n=0;switch(this.combNum){case 1:n=0;break;case 2:n=1;break;case 3:case 4:n=2;break;case 5:case 6:case 7:n=3;break;case 8:case 9:case 10:case 11:n=4;break;case 12:n=5;break;default:this.combNum>this.combMaxNum&&(n=5)}if(window.TofuCon.uiMager.isProp2&&(e*=2),t=e+n,window.TofuCon.uiMager.AddScore(t),window.TofuCon.uiMager.isProp2?(n+=e)>1&&window.TofuCon.gameEffect.GetOtherCoin(n):n>0&&window.TofuCon.gameEffect.GetOtherCoin(n),this.isCoinWallet,window.TofuCon.GameLocal.score%50>40){var o=50-window.TofuCon.GameLocal.score%50+window.TofuCon.GameLocal.score;if(o>this.needCoinTufo){this.needCoinTufo=o;var i=5*Math.floor(window.TofuCon.GameLocal.score/50)+5;this.getWalletCoinNum=i}}},playreachAni:function(){"1003"==this.lastJumpId?this.player_Ske.setAnimation(0,"1004",!1):"1009"==this.lastJumpId?this.player_Ske.setAnimation(0,"1010",!1):this.player_Ske.setAnimation(0,"2003",!1)},ReLife:function(){this.createTufoTimer=0;for(var t=0;t<this.curActionTufoList.Count;t++)this.curActionTufoList.Item(t).node.destroy();this.curActionTufoList.Clear(),window.TofuCon.GameLocal.reLifeNum++,console.log("-----set----"+window.TofuCon.GameLocal.reLifeNum),null==this.curLastNode&&(this.curLastNode=this.firstTufo.node),this.player.position=cc.v2(0,this.curLastNode.position.y+102),this.shadowNode.position=cc.v2(this.player.position.x,this.curLastNode.position.y+100),this.shadowNode.active=!1,this.isJump=!1,this.isDeadPosX=!1,this.player_Ske.clearTrack(0),this.player_Ske.setAnimation(0,"1004",!1),0==this.curLastNode.position.x&&(this.curTufo=this.curLastNode.getComponent("TuFo"),this.curTufoNode=this.curLastNode,this.curGroundTufo=this.curLastNode.getComponent("TuFo"),this.combTufoList.Add(this.curTufo)),this.isGaming=!0},ReLifeCreateFirstTufo:function(){var t=this;setTimeout(function(){t.isDead=!1,t.isCheckCreateTufo=!0,t.isCheckingGround=!0,t.isTufoActionWait=!1},500)},update:function(t){this.isPauseGame||(this.checkOnGround(),this.checkCreateTufo(t),this.checkTufoAction(),this.TufoWaitTimer(t))}}),cc._RF.pop()},{General:"General",PartyLib:"PartyLib",TuFo:"TuFo"}],General:[function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,"symbol"==typeof(a=i(o.key,"string"))?a:String(a)),o)}var a}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}cc._RF.push(e,"cef74wFz65B07H8XgzIfXl7","General");var s={};s.List=function(t){function e(){var e;return(e=t.call(this)||this).item=null,e.indexCount=0,e.item=[],e.indexCount=0,e}a(e,t);var n=e.prototype;return n.Add=function(t){this.item[this.indexCount++]=t},n.Remove=function(t){if(0==this.indexCount)throw new Error("collection is not element");var e=this.ItemIndexOf(t);if(-1==e)throw new Error("not this element ");this.RemoveItemUseIndex(e)},n.RemoveAt=function(t){if(0==this.indexCount||t<0||t>=this.indexCount)throw new Error("Beyond the index "+t);this.RemoveItemUseIndex(t)},n.RemoveItemUseIndex=function(t){for(;t<this.indexCount-1;t++)this.item[t]=this.item[t+1];this.item[t]=null,this.indexCount--,this.item.length=this.indexCount},n.Contain=function(t){return this.indexCount>0&&this.ItemIndexOf(t)>-1},n.ItemIndexOf=function(t){for(var e=0;e<this.indexCount&&t!=this.item[e];e++);return e<this.indexCount?e:-1},n.Item=function(t){if(t>=0&&t<this.indexCount)return this.item[t];throw new Error("Beyond the index "+t)},n.SetItem=function(t,e){if(!(t>=0&&t<this.indexCount))throw new Error("Beyond the index "+t);this.item[t]=e},n.Clear=function(){this.item=[],this.item.length=0,this.indexCount=0},n.ToArray=function(){return this.item},o(e,[{key:"Count",get:function(){return this.indexCount}}]),e}(cc.ValueType),s.Dictionary=function(t){function e(){var e;return(e=t.call(this)||this).indexCount=0,e.itemKey=new s.List,e.itemValue=new s.List,e.indexCount=0,e}a(e,t);var n=e.prototype;return n.Add=function(t,e){if(this.ContainKey(t))throw new Error("contain this key");this.itemKey.Add(t),this.itemValue.Add(e),this.indexCount++},n.Remove=function(t){if(0==this.indexCount)throw new Error("collection not element");var e=this.itemKey.ItemIndexOf(t);if(-1==e)throw new Error("not this key value");this.itemKey.RemoveAt(e),this.itemValue.RemoveAt(e),this.indexCount--},n.RemoveByValue=function(t){if(0==this.indexCount)throw new Error("collection not element");var e=this.itemValue.ItemIndexOf(t);if(-1==e)throw new Error("not this key value");this.itemKey.RemoveAt(e),this.itemValue.RemoveAt(e),this.indexCount--},n.RemoveAt=function(t){if(0==this.indexCount||t>=this.indexCount||t<0)throw new Error("Beyond the index "+t);this.itemKey.RemoveAt(t),this.itemValue.RemoveAt(t),this.indexCount--},n.ContainKey=function(t){return this.itemKey.Contain(t)},n.ContainValue=function(t){return this.itemValue.Contain(t)},n.TryGetValue=function(t){if(0==this.indexCount)return null;var e=this.itemKey.ItemIndexOf(t);return-1==e?null:this.itemValue.Item(e)},n.Item=function(t){if(0==this.indexCount)throw new Error("collection not element");var e=this.itemKey.ItemIndexOf(t);if(-1==e)throw new Error("not this key");return this.itemValue.Item(e)},n.SetItem=function(t,e){if(0==this.indexCount)throw new Error("collection not element");var n=this.itemKey.ItemIndexOf(t);if(-1==n)throw new Error("not this key");this.itemValue.SetItem(n,e)},n.ItemKeyofIndex=function(t){return this.itemKey.Item(t)},n.ItemValueofIndex=function(t){return this.itemValue.Item(t)},n.GetValue=function(){return this.itemValue},n.GetKey=function(){return this.itemKey},n.Clear=function(){this.itemKey.Clear(),this.itemValue.Clear(),this.indexCount=0},o(e,[{key:"Count",get:function(){return this.indexCount}}]),e}(cc.ValueType),s.Stack=function(t){function e(){var e;return(e=t.call(this)||this).indexCount=0,e.item=[],e.indexCount=length,e}a(e,t);var n=e.prototype;return n.Push=function(t){this.item[this.indexCount++]=t},n.Pop=function(){if(0==this.indexCount)throw new Error("collection not element");var t=this.item[this.indexCount-1];return this.indexCount--,this.item.length=this.indexCount,t},n.See=function(){if(0==this.indexCount)throw new Error("collection not element");return this.item[this.item.length-1]},n.Contain=function(t){return this.ItemIndexOf(t)>-1},n.ItemIndexOf=function(t){for(var e=0;e<this.indexCount&&t!=this.item[e];e++);return e<this.indexCount?e:-1},n.Item=function(t){if(t>=0&&t<this.indexCount)return this.item[t];throw new Error("Beyond the index "+t)},n.Clear=function(){this.item=[],this.item.length=0,this.indexCount=0},o(e,[{key:"Count",get:function(){return this.indexCount}}]),e}(cc.ValueType),s.Queue=function(t){function e(){var e;return(e=t.call(this)||this).indexCount=0,e.item=[],e.indexCount=0,e}a(e,t);var n=e.prototype;return n.Push=function(t){this.item[this.indexCount++]=t},n.Pop=function(){if(0==this.indexCount)throw new Error("collection not element");for(var t=this.item[0],e=1;e<this.indexCount;e++)this.item[e-1]=this.item[e];return this.item[this.indexCount-1]=null,this.indexCount--,this.item.length=this.indexCount,t},n.PopLast=function(){if(0==this.indexCount)throw new Error("collection not element");var t=this.item[this.indexCount-1];return this.indexCount--,this.item.length=this.indexCount,t},n.See=function(){if(0==this.indexCount)throw new Error("collection not element");return this.item[0]},n.SeeLast=function(){if(0==this.indexCount)throw new Error("collection not element");return this.item[this.indexCount-1]},n.Contain=function(t){if(0==this.indexCount)throw new Error("collection not element");return this.ItemIndexOf(t)>-1},n.ItemIndexOf=function(t){for(var e=0;e<this.indexCount&&t!=this.item[e];e++);return e<this.indexCount?e:-1},n.Item=function(t){if(t>=0&&t<this.indexCount)return this.item[t];throw new Error("Beyond the index "+t)},n.Clear=function(){this.item=[],this.item.length=0,this.indexCount=0},o(e,[{key:"Count",get:function(){return this.indexCount}}]),e}(cc.ValueType),s.Random=function(t){function e(e){var n;return void 0===e&&(e=0),(n=t.call(this)||this).seed=0,n.seed=e,n}a(e,t);var n=e.prototype;return n.Range=function(t,e){return this.rnd()*(e-t)+t},n.RangeInt=function(t,e){return Math.round(this.rnd()*(e-t-1)+t)},n.rnd=function(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280},e}(cc.ValueType),s.Test=function(t){function e(){var e;return(e=t.call(this)||this).temp=[],e.length=0,e}a(e,t);var n=e.prototype;return n.Add=function(t){this.temp[this.length++]=t},n.Contion=function(t){for(var e=0;e<this.length;e++)if(this.temp[e]==t)return e;return-1},o(e,[{key:"Count",get:function(){return this.length}}]),e}(cc.ValueType),e.exports=s,cc._RF.pop()},{}],GroupCircle:[function(t,e){"use strict";cc._RF.push(e,"f3747JXzwhF54+u2F/BFW20","GroupCircle");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{isPlaying:!1,colors:{type:cc.Color,default:[]}},Play:function(){if(!this.isPlaying){this.isPlaying=!0;var t=n.Random.Range(160,window.TofuCon.canvas.node.width/2,!1),e=-window.TofuCon.canvas.node.height/2-this.node.height/2+5;this.node.position=cc.v2(t*this.GetDir(),e),this.node.active=!0,this.Move()}},Close:function(){this.isPlaying&&(this.isPlaying=!1,this.node.stopAllActions(),this.node.active=!1)},Move:function(){var t,e=this;t=this.node.position.x,this.node.setContentSize(cc.size(8,n.Random.Range(50,251,!1))),this.node.color=this.colors[n.Random.Range(0,this.colors.length)];var o=cc.callFunc(function(){e.node.position=cc.v2(n.Random.Range(160,window.TofuCon.canvas.node.width/2,!1)*e.GetDir(),-window.TofuCon.canvas.node.height/2),e.Move()}),i=cc.moveTo(n.Random.Range(2,3,!1),cc.v2(t,window.TofuCon.canvas.node.height/2+this.node.height/2+5)),a=cc.sequence(i,o);this.node.runAction(a)},GetDir:function(){return n.Random.GetBool()?1:-1}}),cc._RF.pop()},{PartyLib:"PartyLib"}],GroupStars:[function(t,e){"use strict";cc._RF.push(e,"44320g/7r5NfoQE67PWdzQx","GroupStars");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{starNodes:{type:cc.Node,default:[]},colors:{type:cc.Color,default:[]},isPlaying:!1},Play:function(){if(!this.isPlaying){this.isPlaying=!0;for(var t=0;t<this.starNodes.length;t++)0==t?this.FirstStarAnim(this.starNodes[t]):this.StarAnim(this.starNodes[t]);this.node.position=cc.v2(n.Random.Range(160,window.TofuCon.canvas.node.width/2,!1)*this.GetDir(),-window.TofuCon.canvas.node.height/2),this.node.active=!0,this.Move()}},Close:function(){if(this.isPlaying){this.isPlaying=!1;for(var t=0;t<this.starNodes.length;t++)this.starNodes[t].stopAllActions();this.node.stopAllActions(),this.node.active=!1}},Move:function(){var t,e=this;t=this.node.position.x;var o=cc.callFunc(function(){e.node.position=cc.v2(n.Random.Range(160,window.TofuCon.canvas.node.width/2,!1)*e.GetDir(),-window.TofuCon.canvas.node.height/2),e.Move()}),i=cc.moveTo(n.Random.Range(1.5,-3,!1),cc.v2(t,window.TofuCon.canvas.node.height/2+150)),a=cc.sequence(i,o);this.node.runAction(a)},StarAnim:function(t){var e=this;t.stopAllActions();var o=cc.tintTo(.2,this.colors[n.Random.Range(0,this.colors.length)].getR(),this.colors[n.Random.Range(0,this.colors.length)].getG(),this.colors[n.Random.Range(0,this.colors.length)].getB()),i=cc.callFunc(function(){return e.StarAnim(t)}),a=cc.sequence(o,i);t.runAction(a);var r=cc.scaleTo(.2,n.Random.Range(.35,1,!1)),s=cc.callFunc(function(){}),c=cc.sequence(r,s);t.runAction(c)},FirstStarAnim:function(t){var e=this;t.stopAllActions(),t.color=this.colors[n.Random.Range(0,this.colors.length)],t.scale=n.Random.Range(.9,1.1,!1);var o=cc.rotateTo(1,180),i=cc.callFunc(function(){t.angle=0,e.FirstStarAnim(t)}),a=cc.sequence(o,i);t.runAction(a)},GetDir:function(){return n.Random.GetBool()?1:-1}}),cc._RF.pop()},{PartyLib:"PartyLib"}],GuideManager:[function(t,e){"use strict";cc._RF.push(e,"26ce9zt++hFY6XRP0+d104D","GuideManager"),cc.Class({extends:cc.Component,properties:{guideNodes:{type:cc.Node,default:[]},guideMaskNode:cc.Node,guideHandNode:cc.Node,maskNodeLeft:cc.Node,maskNodeRight:cc.Node,maskNodeDown:cc.Node,maskNodeUp:cc.Node},ctor:function(){this.guideNodes=[],this.guideMaskNode=null,this.guideHandNode=null,this.maskNodeLeft=null,this.maskNodeRight=null,this.maskNodeDown=null,this.maskNodeUp=null,this.curGuideId=-1,this.guid1Times=0,this.isHadGuide1=!1},BtnClick:function(){1==this.curGuideId&&(this.guideNodes[0].active=!1,this.curGuideId=-1,this.guid1Times++,this.node.active=!1,this.guid1Times>=3?(window.TofuCon.gameData.isGuided1=1,cc.sys.localStorage.setItem("Guide1",window.TofuCon.gameData.isGuided1)):window.TofuCon.gameMager.isBanInput=!0,window.TofuCon.gameMager.ResumeGame())},PlayGuideById:function(t){for(var e=this,n=0;n<this.guideNodes.length;n++)this.guideNodes[n].active=!1;this.node.active=!0,this.guideNodes[t-1].active=!0,window.TofuCon.gameMager.isBanInput=!0,setTimeout(function(){window.TofuCon.gameMager.isBanInput=!1,e.curGuideId=t},500)},CloseGuideById:function(){for(var t=0;t<this.guideNodes.length;t++)this.guideNodes[t].active=!1;this.curGuideId=-1},PlayShopGuide:function(t,e){for(var n=0;n<this.guideNodes.length;n++)this.guideNodes[n].active=!1;switch(this.node.active=!0,this.guideMaskNode.active=!0,this.guideHandNode.active=!0,t){case 1:this.SetGuideMaskSize(131,131,e),this.SetGuideMaskActive(!0),this.guideHandNode.position=e;break;case 2:this.guideNodes[1].active=!0,this.SetGuideMaskSize(285.9,122,e),this.SetGuideMaskActive(!0),this.guideHandNode.position=e}},CloseShopGuide:function(){this.guideMaskNode.active=!1,this.guideHandNode.active=!1,this.node.active=!1},SetGuideMaskSize:function(t,e,n){this.maskNodeLeft.height=e,this.maskNodeRight.height=e,this.maskNodeLeft.x=-t/2,this.maskNodeRight.x=t/2,this.maskNodeUp.y=e/2,this.maskNodeDown.y=-e/2,this.guideMaskNode.position=n},SetGuideMaskActive:function(t){this.guideMaskNode.active=t}}),cc._RF.pop()},{}],InitGame:[function(t,e){"use strict";cc._RF.push(e,"67de9fTMs1FgLGDr73oXaHq","InitGame"),t("util"),t("ThirdAPI");var n=t("ADManager");cc.Class({extends:cc.Component,properties:{uiMager:cc.Node,gameMager:cc.Node,gameData:cc.Node,tuiJianMager:cc.Node,effectPanel:cc.Node,audioManager:cc.Node,guideManager:cc.Node},onLoad:function(){if(1==window.isPad){var t=this.node.getComponent(cc.Canvas);t.fitHeight=!0,t.fitWidth=!1}this.guideManager.active=!1,this.tuiJianMager.active=!1,window.TofuCon.RunTime.LoadProcess={},this.gameData.getComponent("GameData").onLoadData(),this.registerConst(),window.TofuCon.audioMager.node.active=!0,window.TofuCon.uiMager.onInit(),window.TofuCon.gameMager.node.active=!0},registerConst:function(){window.TofuCon.canvas=this.node.getComponent(cc.Canvas),window.TofuCon.uiMager=this.uiMager.getComponent("UIManager"),window.TofuCon.gameMager=this.gameMager.getComponent("GameManager"),window.TofuCon.gameData=this.gameData.getComponent("GameData"),window.TofuCon.gameEffect=this.effectPanel.getComponent("EffectPanel"),window.TofuCon.audioMager=this.audioManager.getComponent("AudioManager"),window.TofuCon.guideMager=this.guideManager.getComponent("GuideManager"),window.TofuCon.adMager=new n,window.TofuCon.tuiJianMager=this.tuiJianMager,console.log(window.TofuCon.canvas.node.width,window.TofuCon.canvas.node.height,window.TofuCon.canvas.node.getContentSize())}}),cc._RF.pop()},{ADManager:"ADManager",ThirdAPI:"ThirdAPI",util:"util"}],LightEffect:[function(t,e){"use strict";function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new L(o||[]);return i(r,"_invoke",{value:S(t,n,s)}),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var h={};function f(){}function w(){}function g(){}var p={};u(p,r,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&o.call(y,r)&&(p=y);var v=g.prototype=f.prototype=Object.create(p);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){function n(i,a,r,s){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(l).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;i(this,"_invoke",{value:function(t,o){function i(){return new e(function(e,i){n(t,o,e,i)})}return a=a?a.then(i,i):i()}})}function S(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function b(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=g,i(v,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:w,configurable:!0}),w.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},T(C.prototype),u(C.prototype,s,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new C(l(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(v),u(v,c,"Generator"),u(v,r,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return r.type="throw",r.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,o,i,a,r){try{var s=t[a](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,i)}cc._RF.push(e,"b46a4Pq0qRC2ICN3ewO1F0I","LightEffect");var i=t("PartyLib");cc.Class({extends:cc.Component,properties:{colors:{type:cc.Color,default:[]},lightNode:{type:cc.Node,default:[]},lightColorNode:{type:cc.Node,default:[]}},ctor:function(){this.colors=[],this.lightNode=[],this.lightColorNode=[]},PlayLightEffect:function(){var t=this;this.node.active=!0,function(){var e,a=(e=n().mark(function e(){var o;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=0;o<t.lightNode.length;o++)t.lightNode[o].scale=1,t.lightNode[o].active=!0,i.WaitForSeconds(i.Random.Range(.1,.5,!1)),t.singleLightAnim(t.lightNode[o],t.lightColorNode[o]);case 1:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(t){o(r,i,a,s,c,"next",t)}function c(t){o(r,i,a,s,c,"throw",t)}s(void 0)})});return function(){return a.apply(this,arguments)}}()()},singleLightAnim:function(t,e){var n=this;t.angle=i.Random.Range(0,360),e.color=this.colors[i.Random.Range(0,this.colors.length)],t.opacity=0;var o=cc.fadeIn(.35).easing(cc.easeSineIn()),a=cc.fadeOut(.35).easing(cc.easeSineOut()),r=cc.callFunc(function(){return n.singleLightAnim(t,e)}),s=cc.sequence(o,a,r);t.runAction(s)},CloseLightEffect:function(){for(var t=1;t<this.lightNode.length;t++)this.lightNode[t].stopAllActions();this.node.active=!1}}),cc._RF.pop()},{PartyLib:"PartyLib"}],LockerItem:[function(t,e){"use strict";cc._RF.push(e,"6237eOuxLBGHagQAIHabZIZ","LockerItem"),cc.Class({extends:cc.Component,properties:{appName:null,appId:null,linkPages:null,gameLogo:cc.Node,logoUrl:null,hotSprite:cc.Node},setLinkGame:function(t){var e=this;this.appName=t.name,this.appId=t.appid,this.logoUrl=t.logo,this.hotSprite.active=!1;var n=t.playShake,o=t.linkSpriteFrames,i=t.spriteFrameSpeed?t.spriteFrameSpeed:1;if(o)for(var a=[],r=0;r<o.length;r++){var s=o[r];cc.loader.load(s,function(t,n){var r=new cc.SpriteFrame(n);a.push(r),o.length==a.length&&e.playSpriteFrames(a,a.length,i)})}else cc.loader.load(this.logoUrl,function(o,i){e.gameLogo.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),n&&e.playShakeAction(),0!=t.hotFlag&&(console.log("setLinkGame",t.name),e.hotSprite.active=!0)})},playShakeAction:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.rotateTo(.3,10),cc.rotateTo(.3,-10))))},playSpriteFrames:function(t,e,n){this.node.addComponent(cc.Animation);var o=this.node.getComponent(cc.Animation),i=cc.AnimationClip.createWithSpriteFrames(t,e);i.name="ani",i.wrapMode=cc.WrapMode.Loop,i.speed=n,o.addClip(i),o.play("ani")},pressCb:function(){try{wx.navigateToMiniProgram({appId:this.appId,path:this.linkPages,extarData:{open:"happy"},envVersion:"release",success:function(t){console.log(t)},fail:function(t){console.log(t)}})}catch(t){console.log(t)}}}),cc._RF.pop()},{}],Main:[function(t,e){"use strict";cc._RF.push(e,"b86e91g9xdDhb79GzDduUPT","Main"),t("console").Console;var n=t("ThirdAPI"),o=t("util");cc.Class({extends:cc.Component,properties:{initBg:cc.Node,rateLabel:cc.Node,nameLabel:cc.Node,resLength:0,subBagLength:0,TofuCon:cc.JsonAsset},onLoad:function(){null!=window.TofuCon&&null!=window.TofuCon||(window.TofuCon=this.TofuCon.json,console.log("\u521d\u59cb\u53161----------"+JSON.stringify(window.TofuCon.msgBox)));var t=cc.winSize.width,e=cc.winSize.height,n=t,i=e;n>e&&(n=e,i=t);var a=n/i;if(window.isPad=a>.67?1:0,1==window.isPad){var r=this.node.getComponent(cc.Canvas);r.fitHeight=!0,r.fitWidth=!1}window.TofuCon.RunTime.LoadProcess={},this.resLength=4,this.subBagLength=3,this.loadIdx=0,this.loadNoSubDataSync(),this.loadCDNData(),o.customScreenAdapt(this)},loadCDNData:function(){var t=this;window.TofuCon.RunTime.LoadProcess.CDNData={LoadName:"loading...",LoadCount:0,LoadTotal:0},n.loadCDNData(function(e,n){t.resLength-=1,console.log(e,n),delete window.TofuCon.RunTime.LoadProcess.CDNData,null==e&&o.updateObj(window.TofuCon,n,null)})},loadUpdate:function(){for(var t in window.TofuCon.RunTime.LoadProcess){var e=window.TofuCon.RunTime.LoadProcess[t];null!=e&&(this.rateLabel.getComponent(cc.Label).string=100*(e.LoadCount/(e.LoadTotal+.001)).toFixed()+"%",this.nameLabel.getComponent(cc.Label).string=e.LoadName)}this.resLength<=0&&(this.unschedule(this.loadUpdate),cc.director.loadScene("MainGame",null,function(){console.log("Success to load scene: MainGame")}))},loadSubBagProcess:function(){for(var t in window.TofuCon.RunTime.LoadProcess){var e=window.TofuCon.RunTime.LoadProcess[t];null!=e&&(this.rateLabel.getComponent(cc.Label).string=100*(this.loadIdx/(this.subBagLength+.001)).toFixed()+"%",this.nameLabel.getComponent(cc.Label).string=e.LoadName)}this.subBagLength<=this.loadIdx&&(this.unschedule(this.loadSubBagProcess),this.loadIdx=0,this.loadDynamicSource())},loadDynamicSource:function(){var t=this;window.TofuCon.RunTime.LoadProcess.prefabs={LoadName:"loading Model Res",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("prefabs",function(t,e){var n=window.TofuCon.RunTime.LoadProcess.prefabs;n.LoadName="loading Model Res",n.LoadCount=t,n.LoadTotal=e},function(e,n){delete window.TofuCon.RunTime.LoadProcess.prefabs;for(var o=0;o<n.length;o++)window.TofuCon.assets[n[o].name]=n[o],console.log("load res prefab:"+n[o].name);t.resLength-=1}),window.TofuCon.RunTime.LoadProcess.dynImages={LoadName:"loading Image Res",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("dynImages",cc.SpriteFrame,function(t,e){var n=window.TofuCon.RunTime.LoadProcess.dynImages;n.LoadName="loading Image Res...",n.LoadCount=t,n.LoadTotal=e},function(e,n){delete window.TofuCon.RunTime.LoadProcess.dynImages;for(var o=0;o<n.length;o++)console.log("load res :"+n[o].name),window.TofuCon.assets[n[o].name]=n[o];t.resLength-=1}),window.TofuCon.RunTime.LoadProcess.Role={LoadName:"loading Model Res...",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("Spine/Role",sp.SkeletonData,function(t,e){var n=window.TofuCon.RunTime.LoadProcess.Role;n.LoadName="loading Model Res...",n.LoadCount=t,n.LoadTotal=e},function(e,n){for(var o=0;o<n.length;o++)window.TofuCon.assets[n[o].name]=n[o],console.log(n[o].name);t.resLength-=1}),this.schedule(this.loadUpdate,.5)},loadDataSync:function(){var t=this;window.TofuCon.assets={};var e=window.TofuCon.RunTime.LoadProcess.SubBag02;e.LoadName="loading Res...",e.LoadCount=1,e.LoadTotal=1,this.loadIdx+=1,(e=window.TofuCon.RunTime.LoadProcess.SubBag01).LoadName="loading Sub Res...",e.LoadCount=1,e.LoadTotal=1,this.loadIdx+=1,window.TofuCon.RunTime.LoadProcess.Spine={LoadName:"loading Sub Res...",LoadCount:0,LoadTotal:0},cc.loader.downloader.loadSubpackage("Spine",function(e){if(e)t.loadIdx+=1;else{var n=window.TofuCon.RunTime.LoadProcess.Spine;n.LoadName="loading Sub Res...",n.LoadCount=1,n.LoadTotal=1,t.loadIdx+=1,console.log("load subpackage successfully.")}}),this.schedule(this.loadSubBagProcess,.05)},loadNoSubDataSync:function(){var t=this;window.TofuCon.assets={},window.TofuCon.RunTime.LoadProcess.prefabs={LoadName:"loading Res...",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("prefabs",function(t,e){var n=window.TofuCon.RunTime.LoadProcess.prefabs;n.LoadName="loading Res...",n.LoadCount=t,n.LoadTotal=e},function(e,n){delete window.TofuCon.RunTime.LoadProcess.prefabs;for(var o=0;o<n.length;o++)window.TofuCon.assets[n[o].name]=n[o],console.log("load res prefab:"+n[o].name);t.resLength-=1}),window.TofuCon.RunTime.LoadProcess.dynImages={LoadName:"loading Res...",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("dynImages",cc.SpriteFrame,function(t,e){var n=window.TofuCon.RunTime.LoadProcess.dynImages;n.LoadName="loading Res...",n.LoadCount=t,n.LoadTotal=e},function(e,n){delete window.TofuCon.RunTime.LoadProcess.dynImages;for(var o=0;o<n.length;o++)console.log("load res :"+n[o].name),window.TofuCon.assets[n[o].name]=n[o];t.resLength-=1}),window.TofuCon.RunTime.LoadProcess.Role={LoadName:"loading Model Res",LoadCount:0,LoadTotal:0},cc.loader.loadResDir("Spine/Role",sp.SkeletonData,function(t,e){var n=window.TofuCon.RunTime.LoadProcess.Role;n.LoadName="loading Model Res",n.LoadCount=t,n.LoadTotal=e},function(e,n){for(var o=0;o<n.length;o++)window.TofuCon.assets[n[o].name]=n[o],console.log(n[o].name);t.resLength-=1}),this.schedule(this.loadUpdate,.05)}}),cc._RF.pop()},{ThirdAPI:"ThirdAPI",console:5,util:"util"}],MyTuiJianManager:[function(t,e){"use strict";cc._RF.push(e,"d31b9G7Q9ZGgpVXIW1JuKq6","MyTuiJianManager");var n=t("util");cc.Class({extends:cc.Component,properties:{linkPrefab:{default:null,type:cc.Node},scrollView:{default:null,type:cc.Node},contentNode:{default:null,type:cc.Node},linkGameConfig:null,leftPosX:0,rightPosX:0,showFrameWidth:0,space:10,linkBoardWidth:108,scrollViewComponent:null,hasScroll:!1,countdownID:0},onLoad:function(){this.linkPrefab.active=!1,this.createAllLinkGame(window.TofuCon.cdnOtherGameDoor.locker),this.creatOneHot(window.TofuCon.cdnOtherGameDoor.InnerChain)},createAllLinkGame:function(t){var e=this;if(console.log("createAllLinkGame"),t&&this.contentNode){this.contentNode.stopAllActions(),this.contentNode.x=0,this.contentNode.removeAllChildren(),this.showFrameHeight=this.scrollView.height,this.linkGameConfig=t;var o=this.linkGameConfig.length;this.contentNode.height=o*this.linkBoardWidth+(o-1)*this.space;for(var i=n.getRandomArray(o),a=0;a<o;a++){var r=this.linkGameConfig[i[a]];if(r){console.log(r);var s=cc.instantiate(this.linkPrefab),c=s.getComponent("LockerItem");c&&c.setLinkGame(r),s.active=!0,s.setPosition(cc.v2(0,0)),this.contentNode.addChild(s)}}this.scrollViewComponent=this.scrollView.getComponent(cc.ScrollView),this.leftPosX=-(this.contentNode.height-this.showFrameHeight),this.rightPosX=0,setTimeout(function(){e.playScrollLinkGame(!0)},1e3)}},creatOneHot:function(t){var e=cc.instantiate(this.linkPrefab),n=e.getComponent("LockerItem");n&&n.setLinkGame(t),e.active=!0,this.node.addChild(e)},playScrollLinkGame:function(t){var e=this;if(this.contentNode)if(this.contentNode.stopAllActions(),console.log("\u505c\u7559\u4f4d\u7f6e",this.contentNode.x),this.contentNode.height<=this.showFrameHeight)console.log("\u5185\u94fe\u5bbd\u5ea6\u5c0f\u4e8e\u663e\u793a\u5bbd\u5ea6");else{clearTimeout(this.countdownID);var n=t?10:3e3;this.countdownID=setTimeout(function(){var t=Math.abs(e.contentNode.y-e.leftPosX)-Math.abs(e.contentNode.y-e.rightPosX);t>0?e.playLeftAction(t):e.playRightAction()},n)}},playLeftAction:function(t){if(this.node.active){this.contentNode.stopAllActions();var e=2e3*Math.ceil(t/(this.linkBoardWidth+this.space))/1e3,n=cc.moveTo(Math.abs(e),cc.v2(0,this.leftPosX)),o=cc.callFunc(this.playRightAction,this);this.contentNode.runAction(cc.sequence(n,cc.delayTime(2),o))}},playRightAction:function(){if(this.node.active){this.contentNode.stopAllActions();var t=2e3*Math.ceil(Math.abs(this.contentNode.y)/(this.linkBoardWidth+this.space))/1e3,e=cc.moveTo(Math.abs(t),cc.v2(0,0)),n=this,o=cc.callFunc(function(){var t=Math.abs(n.contentNode.y-n.leftPosX)-Math.abs(n.contentNode.y-n.rightPosX);n.playLeftAction(t)});this.contentNode.runAction(cc.sequence(e,cc.delayTime(2),o))}},update:function(){this.scrollViewComponent&&this.scrollViewComponent.isScrolling()&&!this.hasScroll?this.playScrollLinkGame(!1):this.hasScroll=!1}}),cc._RF.pop()},{util:"util"}],PartyLib:[function(t,e){"use strict";cc._RF.push(e,"09883ovtdlKHZNZ8m9OQ9kI","PartyLib");var n={};n.Random=function(){function t(){}return t.Range=function(t,e,n){void 0===n&&(n=!0);var o=e-t;if(o>0){var i=t+16777215*Math.random()%o;return n?Math.floor(i):i}return t},t.GetBool=function(){return 1==n.Random.Range(0,2)},t}(),n.waiter=function(t,e,n,o){o.bind(t);var i=o();console.log(i)},n.WaitForSeconds=function(t){return new Promise(function(e){setTimeout(function(){return e()},1e3*t)})},e.exports=n,cc._RF.pop()},{}],RunTime:[function(t,e){"use strict";cc._RF.push(e,"883d3Ev8AtGZ7IJCeenWS4X","RunTime");var n=function(t){var e,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,o){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),r=new x(o||[]);return a._invoke=k(t,n,r),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(o){return{type:"throw",arg:o}}}t.wrap=c;var l="suspendedStart",d="suspendedYield",h="executing",f="completed",w={};function g(){}function p(){}function m(){}var y={};y[a]=function(){return this};var v=Object.getPrototypeOf,T=v&&v(v(_([])));T&&T!==n&&o.call(T,a)&&(y=T);var C=m.prototype=g.prototype=Object.create(y);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function b(t,e){function n(i,a,r,s){var c=u(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&o.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(d).then(function(t){l.value=t,r(l)},function(t){return n("throw",t,r,s)})}s(c.arg)}var i;this._invoke=function(t,o){function a(){return new e(function(e,i){n(t,o,e,i)})}return i=i?i.then(a,a):a()}}function k(t,e,n){var o=l;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===f){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=A(r,n);if(s){if(s===w)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===l)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=u(t,e,n);if("normal"===c.type){if(o=n.done?f:d,c.arg===w)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function A(t,n){var o=t.iterator[n.method];if(o===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return w;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var i=u(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,w;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,w):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function _(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}return{next:P}}function P(){return{value:e,done:!0}}return p.prototype=C.constructor=m,m.constructor=p,m[s]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},S(b.prototype),b.prototype[r]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new b(c(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(C),C[s]="Generator",C[a]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=_,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return s.type="throw",s.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),u=o.call(r,"finallyLoc");if(c&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,w):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:_(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),w}},t}("object"==typeof e?e.exports:{});try{regeneratorRuntime=n}catch(o){Function("n","regeneratorRuntime=n")(n)}cc._RF.pop()},{}],ShopManager:[function(t,e){"use strict";cc._RF.push(e,"710443op7hDM6ntKbl8/OUh","ShopManager");var n=t("ThirdAPI");cc.Class({extends:cc.Component,properties:{shopSkinItem:cc.Node,videoBtnNode:cc.Node,coinNode:cc.Node,coinLabel:cc.Label,buyLabel:cc.Label,videoLabel:cc.Label,adIcon:cc.Sprite},ctor:function(){this.skins=[],this.noskin=null,this.shopSkinItem=[],this.coinNode=null,this.coinLabel=null,this.buyLabel=null,this.videoLabel=null,this.buyBtnNode=null,this.videoBtnNode=null,this.isGuiding=!1,this.isvideo=!0,this.videoPic=null,this.sharePic=null},onLoad:function(){this.videoBtnNode.active=!0},syncWXState:function(){"WX_AppRt"==DP.Basic.channel&&(this.isvideo=f.default.i(u.default).isVideo,this.videoPic.active=this.isvideo,this.sharePic.active=!this.isvideo)},OnEnter:function(){this.node.active=!0,this.coinNode.opacity=0,this.UpdateLabel(),this.coinNode.runAction(cc.fadeIn(.3)),window.TofuCon.gameEffect.playADBtnANi(this.videoBtnNode)},OnExit:function(){this.node.active=!1},HomeBtnClick:function(){this.OnExit(),window.TofuCon.audioMager.PlayAudioByName("button")},BuyBtnClick:function(){if(console.log("----\x3e coin num:"+window.TofuCon.gameData.coinNum+"<shop price>"+window.TofuCon.gameData.shopCurPrice+window.TofuCon.gameData.isHasLockedSkin),window.TofuCon.gameData.coinNum>=window.TofuCon.gameData.shopCurPrice&&window.TofuCon.gameData.isHasLockedSkin){window.TofuCon.gameData.AddCoin(-window.TofuCon.gameData.shopCurPrice);var t=window.TofuCon.gameData.GetLockedSkinID();window.TofuCon.gameEffect.UnLockSkin(t,!0),window.TofuCon.gameData.UnLockedSkin(t),window.TofuCon.uiMager.skinPanel.getComponent("SkinManager").UnlockSkin(t),window.TofuCon.audioMager.PlayAudioByName("bound"),window.TofuCon.gameData.shopCurPrice+=250,cc.sys.localStorage.setItem("TofuPrice",window.TofuCon.gameData.shopCurPrice),this.UpdateLabel()}else window.TofuCon.uiMager.PlayTip(window.TofuCon.GameTip.JinBiBuZu);window.TofuCon.audioMager.PlayAudioByName("button")},VideoBtnClick:function(){var t=this,e={type:null,arg:null,successCallback:null,failCallback:null,shareName:Math.random()<window.TofuCon.GameCDNData.FinishAdRate?"DJAV":"DJShare",isWait:!0};0==window.TofuCon.GameCDNData.shareType&&(e.isWait=!1),n.shareOrAV(e,function(){window.TofuCon.gameEffect.PlayCoinWalletAnim(40,cc.v2()),window.TofuCon.gameData.AddCoin(window.TofuCon.gameData.shopCurPrice/2),t.UpdateLabel()}),window.TofuCon.audioMager.PlayAudioByName("button")},UpdateLabel:function(){this.coinLabel.string=window.TofuCon.gameData.coinNum.toString(),this.buyLabel.string=window.TofuCon.gameData.shopCurPrice.toString(),this.videoLabel.string=(window.TofuCon.gameData.shopCurPrice/2).toString()}}),cc._RF.pop()},{ThirdAPI:"ThirdAPI"}],SignItem:[function(t,e){"use strict";cc._RF.push(e,"107b6i9AhtD1qXUGbO5uKsk","SignItem"),cc.Class({extends:cc.Component,properties:{SignId:1,hadSignedNode:cc.Node},ctor:function(){this.SignId=1,this.hadSignedNode=null},Signed:function(){console.log("--sign:"+this.SignId),this.hadSignedNode.active=!0},Locked:function(){console.log("--locked:"+this.SignId),this.hadSignedNode.active=!1}}),cc._RF.pop()},{}],SignPanel:[function(t,e){"use strict";cc._RF.push(e,"a2f02xomGFANqs815B+2Fj5","SignPanel");var n=t("SignItem");cc.Class({extends:cc.Component,properties:{videoBtnNode:cc.Node,getBtnNode:cc.Node,signItems:{type:n,default:[]}},ctor:function(){this.videoBtnNode=null,this.getBtnNode=null,this.signItems=[],this.lastSignDay=0,this.curSignDay=0,this.isSignedToday=!1,this.isvideo=!0,this.videoPic=null,this.sharePic=null},onLoad:function(){this.videoBtnNode.active=!0},onEnable:function(){window.TofuCon.gameEffect.playADBtnANi(this.videoBtnNode),this.getBtnNode.active=!1,this.showgetBtnNode()},showgetBtnNode:function(){var t=this;setTimeout(function(){t.getBtnNode.active=!0},3e3)},OnEnter:function(){if(this.node.active=!0,this.isSignedToday)for(var t=0;t<this.signItems.length;t++)t<=this.curSignDay-1?this.signItems[t].Signed():this.signItems[t].Locked();else for(var e=0;e<this.signItems.length;e++)e>=this.curSignDay-1?this.signItems[e].Locked():this.signItems[e].Signed()},OnExit:function(){this.isSignedToday?window.TofuCon.uiMager.PointTip(1,!1):window.TofuCon.uiMager.PointTip(1,!0),this.node.active=!1},CheckSign:function(){this.isSignedToday=this.IsSignedToDay(),this.isSignedToday||this.OnEnter()},IsSignedToDay:function(){if(this.lastSignDay=parseInt(cc.sys.localStorage.getItem("lastSignDay")),this.lastSignDay!=this.lastSignDay)return cc.sys.localStorage.setItem("noShowMobai",0),window.TofuCon.gameData.maxDayScore=0,cc.sys.localStorage.setItem("maxDayScore",window.TofuCon.gameData.maxDayScore),this.curSignDay=1,cc.sys.localStorage.setItem("curSignDay",this.curSignDay),!1;var t=new Date;return this.curSignDay=parseInt(cc.sys.localStorage.getItem("curSignDay")),t.getDate()==this.lastSignDay||(cc.sys.localStorage.setItem("noShowMobai",0),window.TofuCon.gameData.maxDayScore=0,cc.sys.localStorage.setItem("maxDayScore",window.TofuCon.gameData.maxDayScore),this.curSignDay++,this.curSignDay>5&&(this.curSignDay=1),cc.sys.localStorage.setItem("curSignDay",this.curSignDay),!1)},RecordSignDay:function(){var t=new Date;this.lastSignDay=t.getDate(),cc.sys.localStorage.setItem("lastSignDay",this.lastSignDay),this.isSignedToday=!0},BackBtnClick:function(){this.OnExit(),window.TofuCon.audioMager.PlayAudioByName("button")},RewardBtnClick:function(){this.isSignedToday?(window.TofuCon.uiMager.PlayTip(window.TofuCon.GameTip.YiQianDao),console.log("today has signed")):(this.GetRewardSign(),this.signItems[this.curSignDay-1].Signed(),this.RecordSignDay(),this.BackBtnClick()),window.TofuCon.audioMager.PlayAudioByName("button")},RewardAdBtnClick:function(){this.isSignedToday?(window.TofuCon.uiMager.PlayTip(window.TofuCon.GameTip.YiQianDao),console.log("today has signed")):(this.GetRewardSign(),this.GetRewardSign(),this.signItems[this.curSignDay-1].Signed(),this.RecordSignDay(),this.BackBtnClick()),window.TofuCon.audioMager.PlayAudioByName("button")},GetRewardSign:function(){if(2==this.curSignDay)if(window.TofuCon.gameData.isHasLockedSkin){var t=window.TofuCon.gameData.GetLockedSkinID();window.TofuCon.gameEffect.UnLockSkin(t,!0),window.TofuCon.gameData.UnLockedSkin(t),window.TofuCon.uiMager.skinPanel.getComponent("SkinManager").UnlockSkin(t)}else window.TofuCon.gameData.AddCoin(this.GetRewardBySignDay());else window.TofuCon.gameData.AddCoin(this.GetRewardBySignDay())},GetRewardBySignDay:function(){var t=1;switch(this.curSignDay){case 1:t=20;break;case 2:t=120;break;case 3:t=240;break;case 4:t=480;break;case 5:t=1e3}return t}}),cc._RF.pop()},{SignItem:"SignItem"}],SkinItem:[function(t,e){"use strict";cc._RF.push(e,"b187egV/QNCA6Hud6JWGJ58","SkinItem");var n=t("ThirdAPI");cc.Class({extends:cc.Component,properties:{img:cc.Sprite,point:cc.Node,select:cc.Node,locked:cc.Node,lockedCoin:cc.Node,Unusing:cc.Node},onEnable:function(){},init:function(t,e,n){this.img.node.active=!0,e&&(this.img.node.active=t),this.locked.active=!t,this.select.active=!1,e&&t&&1==window.TofuCon.gameData.justUnlockskins[n-1]?this.point.active=!0:this.point.active=!1,this.skin_id=n,this.isRole=e,this.skinPanel=window.TofuCon.uiMager.skinPanel.getComponent("SkinManager")},selected:function(){this.select.active=!0,this.Unusing.active=!1,console.log("defaultselected")},unSelected:function(){this.select.active=!1,this.Unusing.active=!0},pointing:function(){this.point.active=!0},closePoint:function(){this.point.active=!1},isPointed:function(){return this.point.active},unLockSkin:function(){this.locked.active=!1,this.img.node.active=!0},BtnClick:function(){if(this.isRole)this.skinPanel.showSkinNodePanel(this.skin_id),this.skinPanel.UpdateSkinLabel(window.TofuCon.gameData.role_name[this.skin_id-1]);else{if(console.log("--------"),1==window.TofuCon.gameData.tufoSkins[this.skin_id-1]&&window.TofuCon.gameData.curTufoSkinId!=this.skin_id)this.skinPanel.SelectedTufo(this.skin_id);else if(0==window.TofuCon.gameData.tufoSkins[this.skin_id-1]){var t={type:null,arg:null,successCallback:null,failCallback:null,shareName:Math.random()<window.TofuCon.GameCDNData.FinishAdRate?"DJAV":"DJShare",isWait:!0},e=this;return void n.shareOrAV(t,function(){e.UnLockTufoSkin()})}this.skinPanel.UpdateSkinLabel(window.TofuCon.gameData.tufo_name[this.skin_id-1]),window.TofuCon.uiMager.ChangeTufoSkin(window.TofuCon.gameData.tufo_skeletonData[this.skin_id-1],this.skin_id),this.point.active&&this.closePoint()}},UnLockTufoSkin:function(){window.TofuCon.gameEffect.UnLockSkin(this.skin_id,!1),window.TofuCon.gameData.UnLockedTufo(this.skin_id),this.unLockSkin(),this.skinPanel.SelectedTufo(this.skin_id),window.TofuCon.uiMager.ChangeTufoSkin(window.TofuCon.gameData.tufo_skeletonData[this.skin_id-1],this.skin_id),this.skinPanel.CloseBtnClick()}}),cc._RF.pop()},{ThirdAPI:"ThirdAPI"}],SkinManager:[function(t,e){"use strict";var n;cc._RF.push(e,"3cc035eVghI/YMlLXvn/+2e","SkinManager");var i=t("SkinItem");cc.Class(((n={extends:cc.Component,properties:{tufoBtnNode:cc.Node,name_label:cc.Label,coinLabel:cc.Label,skinItems:{type:i,default:[]},tufoSkinItems:{type:i,default:[]},scrollView:cc.ScrollView,tufoScrollView:cc.ScrollView,contentNode:cc.Node,tufoContentNode:cc.Node,pageNode:cc.Node,tufoPages:cc.Node,skinNumLabel:cc.Label,skinTofuNumLabel:cc.Label,skinCheckSprite:cc.Sprite,tofuCheckSprite:cc.Sprite,showSkinNode:cc.Node,lockedSprite:cc.Sprite,player_Ske:sp.Skeleton,gotoShopBtn:cc.Node,adGetTofuBtn:cc.Node,useBtn:cc.Node,defaultBtn:cc.Node,gochallenge:cc.Node,tofuBG:cc.Sprite,tofuBGTable:cc.Sprite,tofuBGGround:cc.Sprite},ctor:function(){this.OPPOPromoNodes=[],this.TTPrompPanel=null,this.tufoBtnNode=null,this.gamedata=null,this.name_label=null,this.coinLabel=null,this.scrollView=null,this.tufoScrollView=null,this.contentNode=null,this.tufoContentNode=null,this.pageNode=null,this.tufoPageNode=null,this.pages=[],this.tufoPages=[],this.skinNumLabel=null,this.skinTofuNumLabel=null,this.skinCheckSprite=null,this.tofuCheckSprite=null,this.curContentPos=cc.v2(-285,6),this.curPageIndex=0,this.curTufoContentPos=cc.v2(-285,6),this.curTufoPageIndex=0,this.showSkinNode=null,this.lockedSprite=null,this.player_Ske=null,this.gotoShopBtn=null,this.defaultBtn=null,this.adGetTofuBtn=null,this.useBtn=null,this.gochallenge=null,this.tofuBG=null,this.tofuBGTable=null,this.tofuBGGround=null,this.isSkin=!1},onLoad:function(){this.Init()},OnEnter:function(){this.node.active=!0,this.skinNumLabel.string=window.TofuCon.gameData.GetUnlockSkinNum().toString()+"/"+window.TofuCon.gameData.skins.length,this.skinTofuNumLabel.string=window.TofuCon.gameData.GetUnlockTofuNum().toString()+"/"+window.TofuCon.gameData.tufoSkins.length,this.UpdateCoin()},OnExit:function(){this.IsPointedSkin()?window.TofuCon.uiMager.PointTip(2,!0):window.TofuCon.uiMager.PointTip(2,!1),this.node.active=!1},IsPointedSkin:function(){for(var t=!1,e=0;e<this.skinItems.length;e++)if(this.skinItems[e].isPointed()){t=!0;break}return t},Init:function(){for(var t=window.TofuCon.gameData.skins.length,e=window.TofuCon.gameData.tufoSkins.length,n=0;n<this.skinItems.length;n++)n<t?(this.skinItems[n].node.active=!0,this.skinItems[n].init(1==window.TofuCon.gameData.skins[n],!0,n+1)):this.skinItems[n].node.active=!1;for(var o=0;o<this.tufoSkinItems.length;o++)o<e?(this.tufoSkinItems[o].node.active=!0,this.tufoSkinItems[o].init(1==window.TofuCon.gameData.tufoSkins[o],!1,o+1)):this.tufoSkinItems[o].node.active=!1;this.tufoScrollView.node.active=!1,this.SelectedTufo(window.TofuCon.gameData.curTufoSkinId),this.SelectedRole(window.TofuCon.gameData.curSkinId),this.UpdateSkinLabel(window.TofuCon.gameData.role_name[window.TofuCon.gameData.curSkinId-1]);var i=window.TofuCon.gameData.curSkinId,a=window.TofuCon.gameData.curTufoSkinId;window.TofuCon.uiMager.ChangeTufoSkin(window.TofuCon.gameData.tufo_skeletonData[a-1],a),window.TofuCon.uiMager.ChangeRoleSkin(window.TofuCon.assets[window.TofuCon.gameData.role_spine_name[i-1]],i)},SelectedRole:function(t){t>this.skinItems.length&&(t=this.skinItems.length-1),this.skinItems[window.TofuCon.gameData.curSkinId-1].unSelected(),this.skinItems[t-1].selected(),window.TofuCon.gameData.curSkinId=t,window.TofuCon.gameData.SaveSkinData()},SelectedTufo:function(t){t>this.tufoSkinItems.length&&this.tufoSkinItems.length,this.tufoSkinItems[window.TofuCon.gameData.curTufoSkinId-1].unSelected(),this.tufoSkinItems[t-1].selected(),window.TofuCon.gameData.curTufoSkinId=t,window.TofuCon.gameData.SaveSkinData()},UpdateSkinLabel:function(t){this.name_label.string=t},RoleSkinBtnClick:function(){this.UpdateSkinLabel(window.TofuCon.gameData.role_name[window.TofuCon.gameData.curSkinId-1]),this.skinCheckSprite.node.active=!0,this.tofuCheckSprite.node.active=!1,this.tufoScrollView.node.active=!1,this.scrollView.node.active=!0,window.TofuCon.audioMager.PlayAudioByName("button")},TufoSkinBtnClick:function(){this.UpdateSkinLabel(window.TofuCon.gameData.tufo_name[window.TofuCon.gameData.curTufoSkinId-1]),this.skinCheckSprite.node.active=!1,this.tofuCheckSprite.node.active=!0,this.tufoScrollView.node.active=!0,this.scrollView.node.active=!1,window.TofuCon.audioMager.PlayAudioByName("button")},CloseBtnClick:function(){this.closeSkinNodePanel(),window.TofuCon.uiMager.RevertSkin(),this.OnExit(),window.TofuCon.audioMager.PlayAudioByName("button")},UnlockSkin:function(t){t>0&&t<=this.skinItems.length&&(this.skinItems[t-1].unLockSkin(),this.skinItems[t-1].pointing())},UnlockTufoSkin:function(t){t>0&&t<=this.tufoSkinItems.length&&this.tufoSkinItems[t-1].unLockSkin()}}).IsPointedSkin=function(){for(var t=0;t<this.skinItems.length&&!this.skinItems[t].isPointed();t++);return!1},n.UpdateCoin=function(){},n.showSkinNodePanel=function(t){this.isSkin=!0,window.TofuCon.audioMager.PlayAudioByName("button"),this.selectingSkinID=t,this.showSkinNode.active=!0;var e=1==window.TofuCon.gameData.skins[t-1];this.player_Ske.node.active=!0,this.useBtn.active=!1,this.gotoShopBtn.active=!1,window.TofuCon.uiMager.ChangeAnySkin(this.player_Ske,window.TofuCon.assets[window.TofuCon.gameData.role_spine_name[t-1]],t),this.player_Ske.setAnimation(0,"1003",!1),this.defaultBtn.active=!1,e?window.TofuCon.gameData.curSkinId!=t?this.defaultBtn.active=!0:this.useBtn.active=!0:this.gotoShopBtn.active=!0},n.showtofuNodePanel=function(t){window.TofuCon.audioMager.PlayAudioByName("button"),this.tofuBG.spriteFrame=r.default.Instance.bg_frames[t-1],this.tofuBGTable.spriteFrame=r.default.Instance.bg_Tables[t-1],this.tofuBGGround.spriteFrame=r.default.Instance.bg_grounds[t-1],this.isSkin=!1,this.tofuBG.node.active=!0,this.selectingSkinID=t,this.showSkinNode.active=!0;var e=1==window.TofuCon.gameData.tufoSkins[t-1];this.player_Ske.node.active=!0,this.useBtn.active=!1,this.gotoShopBtn.active=!1,this.adGetTofuBtn.active=!1,r.default.Instance.ChangeAnyTufoSkin(this.player_Ske,o.default.Instance.tufo_skeletonData[t-1],t),this.player_Ske.setAnimation(0,"3001",!1),e?o.default.Instance.curTufoSkinId!=t&&(this.useBtn.active=!0):(this.adGetTofuBtn.active=!0,this.playADBtnANi(this.adGetTofuBtn))},n.closeSkinNodePanel=function(){this.showSkinNode.active=!1},n.Equip=function(){this.isSkin?this.SelectedRole(this.selectingSkinID):this.SelectedTufo(this.selectingSkinID),this.CloseBtnClick()},n.GoShop=function(){this.CloseBtnClick(),window.TofuCon.uiMager.uiShop.getComponent("ShopManager").OnEnter(),window.TofuCon.audioMager.PlayAudioByName("button")},n.GoChallenge=function(){this.CloseBtnClick(),null==r.default.Instance.shopPanel&&(r.default.Instance.BattlePanel=d.default.Instance.GetPanel(d.PanelType.BattlePanel)),r.default.Instance.BattlePanel.OnEnter()},n.ADGettofu=function(){window.TofuCon.audioMager.PlayAudioByName("button"),this.tufoSkinItems[this.selectingSkinID-1].UnLockTufoSkin()},n)),cc._RF.pop()},{SkinItem:"SkinItem"}],ThirdAPI:[function(t,e){"use strict";cc._RF.push(e,"71f92szvNZNwJcEuYXCrhgC","ThirdAPI");var n=t("WxAPI"),o=t("util");"undefined"!=typeof wx&&(console.log("load times"),n.initOnEnter());var i={loadLocalData_storageName:"BieZhenLocal",loadLocalData:function(){try{var t=cc.sys.localStorage.getItem(i.loadLocalData_storageName);if(console.log("storage data : "+t),null!=t&&""!=t){var e=JSON.parse(t);o.updateObj(Const,e,null),console.log(Const)}}catch(n){console.log(n)}},loadCDNData:function(t){t(null)},ReportWxScore:function(t){"undefined"!=typeof wx&&n.saveCloudData(t)},shareGame:function(t){"undefined"!=typeof wx&&n.shareGame(t)},shareSuccessCb:function(t,e){0==this.flagCBFunc&&this.callback&&this.callback(t,e),this.flagCBFunc=!0},shareFailedCb:function(t){0==this.flagCBFunc&&("fail"==t?this.showFailInfo():"error"==t&&(this.params.shareName="DJShare",this.shareOrAV(this.params,this.callback))),this.flagCBFunc=!0},showFailInfo:function(){var t=this;try{var e=window.TofuCon.msgBox.DJShareContent;"DJAV"==this.params.shareName&&(e=window.TofuCon.msgBox.DJAVContent),wx.showModal({title:"\u63d0\u793a",content:e,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",confirmColor:"#53679c",success:function(e){e.confirm?t.shareOrAV(t.params,t.callback):e.cancel}})}catch(n){}},showVideo:function(){var t=this,e=window;void 0!==window.parent&&(e=window.parent),"function"==typeof e.ShowADForLayaGame?(cc.game.pause(),e.ShowADForLayaGame(!0,"reward",function(){cc.game.resume(),t.shareSuccessCb(null)})):t.shareSuccessCb(null)},ShowInterstitial:function(){var t=window;void 0!==window.parent&&(t=window.parent),"function"==typeof t.ShowADForLayaGame&&(cc.game.pause(),t.ShowADForLayaGame(!1,"browse",function(){cc.game.resume()}))},DelayShowInterstitial:function(){void 0!==this.timerShowInterstitial&&clearTimeout(this.timerShowInterstitial);var t=this.getRandomInteger(500,1e3),e=this;this.timerShowInterstitial=setTimeout(function(){e.ShowInterstitial()},t)},getRandomInteger:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},shareOrAV:function(t,e){this.flagCBFunc=!1,this.callback=e,this.params=t,this.showVideo()},getRank:function(t){if("undefined"!=typeof wx)switch(t.type){case"gameOverUIRank":n.getGameOverUIRank(t);break;case"rankUIFriendRank":n.getFriendRank(t);break;case"rankUIPageUpDown":n.getRankPageUpDown(t);break;case"rankUIGroupRank":n.getGroupRank(t);break;case"battleUIRank":n.getNextFriendRank(t);break;case"initFriendRank":n.getInitFriendRank(t);break;case"battleGameView":n.getBattleGameView(t)}},setShareCanvas:function(t){if("undefined"!=typeof wx&&t)try{var e=wx.getOpenDataContext().canvas;e.width=parseInt(t.width),e.height=parseInt(t.height)}catch(n){}}};e.exports=i,cc._RF.pop()},{WxAPI:"WxAPI",util:"util"}],TipManager:[function(t,e){"use strict";cc._RF.push(e,"324b2UnJ3xAgrGtyoaRaHgW","TipManager"),cc.Class({extends:cc.Component,properties:{tipNode:cc.Node,tipContents:{type:cc.Node,default:[]}},ctor:function(){this.tipNode=null,this.tipContents=[]},PlayTip:function(t){var e=this;this.node.active=!0;for(var n=0;n<this.tipContents.length;n++)this.tipContents[n].active=!1;this.tipContents[t].active=!0,this.tipNode.stopAllActions(),this.tipNode.position=cc.v2(0,-window.TofuCon.canvas.node.height/2+50),this.tipNode.active=!0,this.tipNode.opacity=255;var o=cc.moveTo(.25,cc.v2()).easing(cc.easeSineOut()),i=cc.fadeOut(.5).easing(cc.easeQuinticActionIn()),a=cc.callFunc(function(){e.tipNode.active=!1,e.node.active=!0}),r=cc.sequence(o,i,a);this.tipNode.runAction(r)}}),cc._RF.pop()},{}],TuFo:[function(t,e){"use strict";cc._RF.push(e,"058dd0G8y9E7opX6uzjlKcF","TuFo");var n=t("PartyLib");cc.Class({extends:cc.Component,properties:{tufoNode:{type:cc.Node,default:null},tufoSke:{type:sp.Skeleton,default:null},effect:{type:cc.Node,default:null},tufo_boardA:{type:cc.Node,default:null},tufo_boardB:{type:cc.Node,default:null},anim:{type:cc.Animation,default:null},iscoinTufo:!1,rewardCoin:{type:cc.Label,default:null}},ctor:function(){this.tufoSke=null,this.tufoSkins=[],this.tufoNode=null,this.tufo_boardA=null,this.tufo_boardB=null,this.effect=null,this.anim=null,this.dir=0,this.mainAction=null,this.iscoinTufo=!1,this.rewardCoin=null},onLoad:function(){if(this.tufoSkins.length>0){var t=n.Random.Range(0,this.tufoSkins.length);this.tufoSke.skeletonData=this.tufoSkins[t]}},start:function(){},PlayCurEffect:function(){this.effect.stopAllActions(),this.effect.scale=.75,this.effect.active=!0,this.effect.runAction(cc.fadeOut(.5).easing(cc.easeCubicActionIn()))},PlayEffect:function(){null!=this.effect&&(this.effect.scale=.75,this.effect.opacity=255,this.effect.active=!0,this.anim.play(),this.effect.runAction(cc.fadeOut(.5).easing(cc.easeCubicActionIn())))},BoardAction:function(){var t=this;this.node.scaleX<0&&(this.dir*=-1);var e=cc.moveTo(.1,cc.v2(900*this.dir,this.tufo_boardA.position.y)),n=cc.callFunc(function(){return t.tufo_boardA.active=!1}),o=cc.sequence(e,n);this.tufo_boardA.runAction(o);var i=cc.moveTo(.1,cc.v2(900*this.dir,this.tufo_boardA.position.y)),a=cc.callFunc(function(){return t.tufo_boardB.active=!1}),r=cc.sequence(i,a);this.tufo_boardB.runAction(r)}}),cc._RF.pop()},{PartyLib:"PartyLib"}],UIManager:[function(t,e){"use strict";function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(_){u=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var a=e&&e.prototype instanceof f?e:f,r=Object.create(a.prototype),s=new L(o||[]);return i(r,"_invoke",{value:S(t,n,s)}),r}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=l;var h={};function f(){}function w(){}function g(){}var p={};u(p,r,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==e&&o.call(y,r)&&(p=y);var v=g.prototype=f.prototype=Object.create(p);function T(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function C(t,e){function n(i,a,r,s){var c=d(t[i],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,r,s)},function(t){n("throw",t,r,s)}):e.resolve(l).then(function(t){u.value=t,r(u)},function(t){return n("throw",t,r,s)})}s(c.arg)}var a;i(this,"_invoke",{value:function(t,o){function i(){return new e(function(e,i){n(t,o,e,i)})}return a=a?a.then(i,i):i()}})}function S(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function b(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return w.prototype=g,i(v,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:w,configurable:!0}),w.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},T(C.prototype),u(C.prototype,s,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var r=new C(l(e,n,o,i),a);return t.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},T(v),u(v,c,"Generator"),u(v,r,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=N,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return r.type="throw",r.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t,e,n,o,i,a,r){try{var s=t[a](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(o,i)}cc._RF.push(e,"283f1T/OTdHcImIn8D2kPEJ","UIManager");var i=t("PartyLib"),a=t("TipManager"),r=t("ThirdAPI");cc.Class({extends:cc.Component,properties:{maxScoreLabel:{type:cc.Label,default:null},coinLabel:{type:cc.Label,default:null},getTofu:{type:cc.Label,default:null},uiShop:{type:cc.Node,default:null},uiStart:{type:cc.Node,default:null},uiSetting:{type:cc.Node,default:null},settingAudioToggleBG:cc.Node,settingAudioToggle:cc.Toggle,settingShockToggleBG:cc.Node,settingShockToggle:cc.Toggle,uiQianDao:{type:cc.Node,default:null},uiGame:{type:cc.Node,default:null},propNode1:{type:cc.Node,default:null},propNode2:{type:cc.Node,default:null},propNode3:{type:cc.Node,default:null},scoreLabel:{type:cc.Label,default:null},uiReLife:{type:cc.Node,default:null},uiResult:{type:cc.Node,default:null},reLifePanelnoBtn:{type:cc.Node,default:null},reLifeTimerImg:{type:cc.Sprite,default:null},bg_sprite:cc.Sprite,bg_table:cc.Sprite,bg_ground:cc.Sprite,effect_bg_sprite:cc.Sprite,bg_frames:{type:cc.SpriteFrame,default:[]},bg_Tables:{type:cc.SpriteFrame,default:[]},bg_grounds:{type:cc.SpriteFrame,default:[]},effect_bg_frames:{type:cc.SpriteFrame,default:[]},head_frames:{type:cc.SpriteFrame,default:[]},resultPanelScore:{type:cc.Label,default:null},resultPanelGetTofu:{type:cc.Label,default:null},resultPanelGetCoin:{type:cc.Label,default:null},uiTip:a,resultPanelNodeadGet:cc.Node,reLifeVideoBtnNode:cc.Node,resultPanelNodenormalGet:cc.Node,signPoint:cc.Node,skinPoint:cc.Node,proplabel1:cc.Label,proplabel2:cc.Label,proplabel3:cc.Label,rewardBoxPanel:cc.Node,rewardBoxPanelvieoBtn:cc.Node,rewardSprite:cc.Sprite,rewardBoxName:cc.Label,reLifeStartTimerLabel:cc.Label},onLoad:function(){this.maxScoreLabel.string=window.TofuCon.gameData.maxScore,this.coinLabel.string=window.TofuCon.gameData.coinNum,this.getTofu.string=window.TofuCon.gameData.coinNum},ChangeTufoSkin:function(t,e){void 0===e&&(e=1),window.TofuCon.gameMager.firstTufo.tufoSkins[0]=t,window.TofuCon.gameMager.firstTufo.tufoSke.skeletonData=t,window.TofuCon.gameMager.tufo_prefab=window.TofuCon.assets["doufu"+(e-1)],this.ChangeBgSkin(e)},UpdateCoin:function(){this.coinLabel.string=window.TofuCon.gameData.coinNum},RevertSkin:function(){var t=window.TofuCon.gameData.curSkinId,e=window.TofuCon.gameData.curTufoSkinId;window.TofuCon.gameMager.player_Ske.skeletonData=window.TofuCon.assets[window.TofuCon.gameData.role_spine_name[t-1]],window.TofuCon.gameMager.player_Ske.clearTrack(0),window.TofuCon.gameMager.player_Ske.setAnimation(0,"1004",!1),window.TofuCon.gameMager.firstTufo.tufoSkins[0]=window.TofuCon.gameData.tufo_skeletonData[e-1],window.TofuCon.gameMager.firstTufo.tufoSke.skeletonData=window.TofuCon.gameData.tufo_skeletonData[e-1],window.TofuCon.gameMager.tufo_prefab=window.TofuCon.assets["doufu"+(e-1)],this.ChangeBgSkin(e)},ChangeRoleSkin:function(t,e){void 0===e&&(e=1),console.log("ChangeRoleSkin:"+e),console.log(t),window.TofuCon.gameMager.player_Ske.skeletonData=t,window.TofuCon.gameMager.player_Ske.clearTrack(0),window.TofuCon.gameMager.player_Ske.setAnimation(0,"1004",!1)},ChangeBgSkin:function(t){t-1<this.bg_frames.length&&t-1>=0&&(this.bg_sprite.spriteFrame=this.bg_frames[t-1],this.effect_bg_sprite.spriteFrame=this.effect_bg_frames[t-1],this.bg_table.spriteFrame=this.bg_Tables[t-1],this.bg_ground.spriteFrame=this.bg_grounds[t-1])},ChangeAnySkin:function(t,e,n){void 0===n&&(n=1),t.skeletonData=e,t.clearTrack(0),t.setAnimation(0,"1004",!1)},SureStartGameBtnClick:function(){this.uiStart.active=!1,this.uiGame.active=!0,window.TofuCon.GameLocal.score=0,window.TofuCon.GameLocal.correctTofu=0,this.scoreLabel.node.active=!0,this.scoreLabel.string=window.TofuCon.GameLocal.score,this.getTofu.string=window.TofuCon.GameLocal.correctTofu.toString(),this.propNode1.scale=0,this.propNode2.scale=0,this.propNode3.scale=0,this.propNode1.runAction(cc.scaleTo(.2,1)),this.propNode2.runAction(cc.scaleTo(.2,1)),this.propNode3.runAction(cc.scaleTo(.2,1)),window.TofuCon.gameMager.GameReady(),window.TofuCon.gameEffect.GameStartReadyEffect(),this.isProp1=!1,this.isProp2=!1,this.isProp3=!1,this.proplabel1.node.active=!1,this.proplabel2.node.active=!1,this.proplabel3.node.active=!1,window.TofuCon.audioMager.PlayAudioByName("gameReady")},onInit:function(){this.uiStart.active=!0,this.uiSetting.active=!1,this.uiShop.active=!1,this.uiQianDao.active=!1,this.uiGame.active=!1,this.uiReLife.active=!1,this.uiResult.active=!1,this.rewardBoxPanel.active=!1,this.reLifeTargetTime=4,this.isReLifeTimer=!1,this.reLifeStartTimerLabel.node.active=!1;var t=window.TofuCon.gameData.curSkinId,e=window.TofuCon.gameData.curTufoSkinId;this.ChangeTufoSkin(window.TofuCon.gameData.tufo_skeletonData[e-1],e),this.ChangeRoleSkin(window.TofuCon.assets[window.TofuCon.gameData.role_spine_name[t-1]],t),null==this.skinPanel&&(this.skinPanel=cc.instantiate(window.TofuCon.assets.UISkine),this.node.addChild(this.skinPanel)),this.skinPanel.active=!1,this.uiTip.node.active=!1,this.uiQianDao.getComponent("SignPanel").CheckSign(),this.ActiveUI(),window.TofuCon.audioMager.ResumeBGMPlay()},ActiveReLifePanel:function(){var t=this;this.isRelifeAD=!0,this.uiReLife.active=!0,this.reLifePanelnoBtn.active=!1,window.TofuCon.gameEffect.playADBtnANi(this.reLifeVideoBtnNode),this.reLifeTimerImg.fillRange=-1,this.reLifeTimer=0,this.reLifeImgSpeed=1/this.reLifeTargetTime,this.isReLifeTimer=!0,this.prop1Timer>0&&(this.isProp1=!1),this.prop2Timer>0&&(this.isProp2=!1),this.prop3Timer>0&&(this.isProp3=!1),setTimeout(function(){t.reLifePanelnoBtn.active=!0},2e3)},AddScore:function(t){window.TofuCon.GameLocal.score+=t,this.scoreLabel.string=window.TofuCon.GameLocal.score},AddCorrentTofe:function(t){window.TofuCon.GameLocal.correctTofu+=t,this.getTofu.string=window.TofuCon.GameLocal.correctTofu},SettingBtnClick:function(){this.uiSetting.active=!0,this.settingAudioToggle.isChecked=window.TofuCon.gameData.audio_switch,this.settingShockToggle.isChecked=window.TofuCon.gameData.shock_switch,this.settingAudioToggleBG.active=!window.TofuCon.gameData.audio_switch,this.settingShockToggleBG.active=!window.TofuCon.gameData.shock_switch,window.TofuCon.audioMager.PlayAudioByName("button")},SettingAudioToggleClick:function(){this.settingAudioToggle.isChecked?window.TofuCon.gameData.audio_switch=!0:window.TofuCon.gameData.audio_switch=!1,this.settingAudioToggleBG.active=!window.TofuCon.gameData.audio_switch,window.TofuCon.audioMager.PlayAudioByName("button"),window.TofuCon.audioMager.SetBgMusic(window.TofuCon.gameData.audio_switch)},SettingShockToggleClick:function(){this.settingShockToggle.isChecked?window.TofuCon.gameData.shock_switch=!0:window.TofuCon.gameData.shock_switch=!1,this.settingShockToggleBG.active=!window.TofuCon.gameData.shock_switch,window.TofuCon.audioMager.PlayAudioByName("button")},SettingCloseBtnClick:function(){this.uiSetting.active=!1,window.TofuCon.audioMager.PlayAudioByName("button")},SkinBtnClick:function(){this.skinPanel.active=!0,this.skinPanel.setPosition(cc.v2(0,0)),this.skinPanel.getComponent("SkinManager").OnEnter(),window.TofuCon.audioMager.PlayAudioByName("button")},ShopBtnClick:function(){this.uiShop.getComponent("ShopManager").OnEnter(),window.TofuCon.audioMager.PlayAudioByName("button")},SignBtnClick:function(){this.uiQianDao.getComponent("SignPanel").OnEnter(),window.TofuCon.audioMager.PlayAudioByName("button")},Prop1GoldTofuClick:function(){window.TofuCon.gameMager.isGaming&&0==this.prop1Timer&&window.TofuCon.gameData.coinNum>=40&&(this.prop1Timer=45,this.proplabel1.node.active=!0,this.isProp1=!0,window.TofuCon.gameData.AddCoin(-40)),window.TofuCon.audioMager.PlayAudioByName("button")},Prop2DoubleScoreClick:function(){window.TofuCon.gameMager.isGaming&&0==this.prop2Timer&&window.TofuCon.gameData.coinNum>=30&&(this.prop2Timer=30,this.proplabel2.node.active=!0,this.isProp2=!0,window.TofuCon.gameData.AddCoin(-30)),window.TofuCon.audioMager.PlayAudioByName("button")},Prop3SlowSpeedTofuClick:function(){window.TofuCon.gameMager.isGaming&&0==this.prop3Timer&&window.TofuCon.gameData.coinNum>=125&&(this.prop3Timer=30,this.proplabel3.node.active=!0,this.isProp3=!0,window.TofuCon.gameData.AddCoin(-125)),window.TofuCon.audioMager.PlayAudioByName("button")},GetSkinImgById:function(t){if(t-1<this.head_frames.length&&t>0)return this.head_frames[t-1]},PointTip:function(t,e){switch(t){case 1:this.signPoint.active=e;break;case 2:this.skinPoint.active=e}},PlayTip:function(t){this.uiTip.PlayTip(t)},UpdateMaxScore:function(){this.maxScoreLabel.string=window.TofuCon.gameData.maxScore.toString()},ReLifeTimer:function(t){this.isReLifeTimer&&(this.reLifeTimer+=t,this.reLifeTimer>=this.reLifeTargetTime&&(this.isReLifeTimer=!1,this.reLifeTimer=this.reLifeTargetTime,this.NoReLifeBtnClick()),this.reLifeTimerImg.fillStart=1-this.reLifeTimer*this.reLifeImgSpeed)},GoldTofuTimer:function(t){this.isProp1&&!this.isRelifeAD&&(this.prop1Timer-=t,this.prop1Timer<=0&&(this.prop1Timer=0,this.isProp1=!1,this.proplabel1.node.active=!1),this.proplabel1.string=this.prop1Timer.toFixed(0))},DoubleScoreTimer:function(t){this.isProp2&&!this.isRelifeAD&&(this.prop2Timer-=t,this.prop2Timer<=0&&(this.prop2Timer=0,this.isProp2=!1,this.proplabel2.node.active=!1),this.proplabel2.string=this.prop2Timer.toFixed(0))},SlowSpeedTofuTimer:function(t){this.isProp3&&!this.isRelifeAD&&(this.prop3Timer-=t,this.prop3Timer<=0&&(this.prop3Timer=0,this.isProp3=!1,this.proplabel3.node.active=!1),this.proplabel3.string=this.prop3Timer.toFixed(0))},ReLifeBtnClick:function(){var t=this;window.TofuCon.audioMager.PlayAudioByName("button"),this.isReLifeTimer=!1;var e={type:null,arg:null,successCallback:null,failCallback:null,shareName:Math.random()<window.TofuCon.GameCDNData.FinishAdRate?"DJAV":"DJShare",isWait:!0};0==window.TofuCon.GameCDNData.shareType&&(e.isWait=!1),r.shareOrAV(e,function(){t.ReLifeStartGameTimer()})},NoReLifeBtnClick:function(){this.isReLifeTimer=!1,this.reLifeTimer=0,this.uiReLife.active=!1,this.showResult(),window.TofuCon.audioMager.PlayAudioByName("button")},ReLifeStartGameTimer:function(){var t=this;(function(){var e,a=(e=n().mark(function e(){var o,a,r,s,c;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isReLifeTimer=!1,t.reLifeTimer=0,t.uiReLife.active=!1,window.TofuCon.gameMager.ReLife(),t.prop1Timer>0&&(t.isProp1=!0),t.prop2Timer>0&&(t.isProp2=!0),t.prop3Timer>0&&(t.isProp3=!0),t.reLifeStartTimerLabel.node.active=!0,o=3;case 9:if(!(o>0)){e.next=18;break}return t.reLifeStartTimerLabel.string=o.toString(),a=cc.scaleTo(.2,1.2),r=cc.scaleTo(.1,1),t.reLifeStartTimerLabel.node.runAction(cc.sequence(a,r)),e.next=15,i.WaitForSeconds(1);case 15:o--,e.next=9;break;case 18:return t.reLifeStartTimerLabel.string="Start",s=cc.scaleTo(.2,1.2),c=cc.scaleTo(.1,1),t.reLifeStartTimerLabel.node.runAction(cc.sequence(s,c)),e.next=23,i.WaitForSeconds(.5);case 23:t.reLifeStartTimerLabel.node.active=!1,window.TofuCon.gameMager.WDRelifeTest(),t.isRelifeAD=!1;case 26:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(t){o(r,i,a,s,c,"next",t)}function c(t){o(r,i,a,s,c,"throw",t)}s(void 0)})});return function(){return a.apply(this,arguments)}})()()},showResult:function(){var t=this;window.TofuCon.gameEffect.playADBtnANi(this.resultPanelNodeadGet),this.uiResult.active=!0,this.resultPanelScore.string=window.TofuCon.GameLocal.score.toString(),this.resultPanelGetTofu.string=window.TofuCon.GameLocal.correctTofu.toString(),this.resultPanelGetCoin.string=window.TofuCon.GameLocal.correctTofu.toString(),this.resultPanelNodenormalGet.active=!1,setTimeout(function(){t.resultPanelNodenormalGet.active=!0,r.DelayShowInterstitial()},2e3)},adGetReward:function(){var t=this;window.TofuCon.audioMager.PlayAudioByName("button");var e={type:null,arg:null,successCallback:null,failCallback:null,shareName:Math.random()<window.TofuCon.GameCDNData.FinishAdRate?"DJAV":"DJShare",isWait:!0};0==window.TofuCon.GameCDNData.shareType&&(e.isWait=!1),r.shareOrAV(e,function(){window.TofuCon.gameData.AddCoin(3*window.TofuCon.GameLocal.correctTofu),t.closeResult()})},normalGetRewarfd:function(){window.TofuCon.audioMager.PlayAudioByName("button"),window.TofuCon.gameData.AddCoin(window.TofuCon.GameLocal.correctTofu),this.closeResult()},closeResult:function(){this.uiResult.active=!1,this.SureGameEnd(),window.TofuCon.gameEffect.PlayCoinWalletAnim(40,cc.v2())},SureGameEnd:function(){window.TofuCon.gameMager.curActionTufoList.Clear(),window.TofuCon.gameMager.curTotleTufoList.Clear(),window.TofuCon.gameMager.tufo_Parent.destroy(),window.TofuCon.gameMager.PlayerInit(),window.TofuCon.gameMager.followCam.EndReset(),this.ActiveUI(),window.TofuCon.GameLocal.isCreatedRewardBoxTufo&&!window.TofuCon.GameLocal.isGetRewardBoxGift&&this.ActiveRewardBoxPanel(),0==window.TofuCon.gameData.isGuided2&&window.TofuCon.gameData.coinNum>=window.TofuCon.gameData.shopCurPrice&&(window.TofuCon.gameData.isGuided2=!0,this.uiShop.getComponent("ShopManager").OnEnter()),window.TofuCon.GameLocal.gameTimes++,window.TofuCon.GameLocal.gameTimes>6&&(window.TofuCon.GameLocal.gameTimes=0,window.TofuCon.GameLocal.isCreatedRewardBoxTufo=!1,window.TofuCon.GameLocal.isGetRewardBoxGift=!1)},ActiveRewardBoxPanel:function(){this.rewardBoxPanel.active=!0,window.TofuCon.GameLocal.isGetRewardBoxGift=!0,this.playADBtnANi(this.rewardBoxPanelvieoBtn),this.rewardRoleSkinID=window.TofuCon.gameData.GetLockedSkinID(),this.rewardBoxName.string=window.TofuCon.gameData.role_name[this.rewardRoleSkinID-1],console.log("--\x3e get locked skin ID:"+this.rewardRoleSkinID),this.rewardSprite.spriteFrame=this.GetSkinImgById(this.rewardRoleSkinID)},RewardBoxVideoBtnClick:function(){var t=this;window.TofuCon.audioMager.PlayAudioByName("button");var e={type:null,arg:null,successCallback:null,failCallback:null,shareName:Math.random()<window.TofuCon.GameCDNData.FinishAdRate?"DJAV":"DJShare",isWait:!0};0==window.TofuCon.GameCDNData.shareType&&(e.isWait=!1),r.shareOrAV(e,function(){t.rewardBoxPanel.active=!1,window.TofuCon.gameEffect.UnLockSkin(t.rewardRoleSkinID,!0),window.TofuCon.gameData.UnLockedSkin(t.rewardRoleSkinID),t.skinPanel.getComponent("SkinManager").UnlockSkin(t.rewardRoleSkinID)})},RewardBoxCloseBtnClick:function(){this.rewardBoxPanel.active=!1,window.TofuCon.audioMager.PlayAudioByName("button")},ActiveUI:function(){this.uiGame.active=!1,this.uiStart.active=!0,this.prop1Timer=0,this.prop2Timer=0,this.prop3Timer=0,this.isProp1=!1,this.isProp2=!1,this.isProp3=!1,window.TofuCon.gameData.RecordScore(),this.isRelifeAD=!1},update:function(t){this.ReLifeTimer(t),this.GoldTofuTimer(t),this.DoubleScoreTimer(t),this.SlowSpeedTofuTimer(t)}}),cc._RF.pop()},{PartyLib:"PartyLib",ThirdAPI:"ThirdAPI",TipManager:"TipManager"}],WxAPI:[function(t,e){"use strict";cc._RF.push(e,"753bd5OAB9PMqgA+ckUKOzT","WxAPI");var n=t("util"),o={initOnEnter:function(){console.log("get launch options");var t=this.getLaunchOptionsSync();console.log("launch options",t),t&&(this.shareTicket=t.shareTicket,this.scene=t.scene,this.query=t.query,this.isSticky=t.isSticky),this.queryString="",this.setShareTicketEnabled(!0),this.showShareMenu(),this.registShare(),this.registOnShow(),this.registOnError(),this.setUserInfo(),this.resetSharePointConfig()},getLaunchOptionsSync:function(){return wx.getLaunchOptionsSync()},setShareTicketEnabled:function(t){wx.updateShareMenu({withShareTicket:t,success:function(){o.shareTicketEnabled=t}})},registShare:function(){var t=this;this.onShareAppMessage(function(){var e=t.getShareInfo();return console.log("\u7528\u6237\u70b9\u51fb\u4e86\u53f3\u4e0a\u6309\u94ae\u5e76\u5206\u4eab,query:",o.queryString),{title:e.text,imageUrl:e.imageUrl,query:o.queryString}})},setUserInfo:function(){o.userInfo={nickName:"wxname_001",maxscore:0,gold:0,iv:"",signature:"",gender:1,avatarUrl:"res/raw-assets/resources/plist/items/rank_1.png"}},registOnShow:function(){var t=this;wx.onShow(function(e){if(console.log("wx onShow",e),e.shareTicket&&(o.shareTicket=e.shareTicket),console.log("----------------onShow------------------",t.sharePointConfig),t.sharePointConfig.wait){var n=new Date;if(console.log("\u6536\u83b7\u5206\u4eab\uff1a\u5224\u65ad\u662f\u5426\u5927\u4e8e\u6700\u5c0f\u5206\u4eab\u65f6\u95f4",n,t.sharePointConfig.shareTime),Date.parse(n)-Date.parse(t.sharePointConfig.shareTime)>1e3*window.TofuCon.GameCDNData.minShareTime){console.log("\u5927\u4e8e\u6700\u5c0f\u5206\u4eab\u65f6\u95f4");var i=window.TofuCon.GameLocal.shareTimes%window.TofuCon.GameCDNData.shareSuccessWeight.length,a=window.TofuCon.GameCDNData.shareSuccessWeight[i],r=Math.random()<a;console.log("\u5206\u4eab\u6210\u529f\u6982\u7387\uff1a",r,window.TofuCon.GameLocal.shareTimes,i,a),r?(console.log("\u5206\u4eab\u6210\u529f!"),t.sharePointConfig.successcallback&&t.sharePointConfig.successcallback(null,o.shareTicket,t.sharePointConfig.arg)):(console.log("\u5206\u4eab\u5931\u8d25!"),t.sharePointConfig.failcallback&&t.sharePointConfig.failcallback("cancel",t.sharePointConfig.arg)),window.TofuCon.GameLocal.shareTimes++}else console.log("\u5c0f\u4e8e\u6700\u5c0f\u5206\u4eab\u65f6\u95f4"),t.sharePointConfig.failcallback&&t.sharePointConfig.failcallback("cancel",t.sharePointConfig.arg);t.resetSharePointConfig()}})},resetSharePointConfig:function(){this.sharePointConfig={name:"",arg:null,wait:!1,successcallback:null,failcallback:null,shareTime:new Date}},registOnError:function(){wx.onError(function(t){console.log("wx error:"+t.message+"\nstack:\n"+t.stack)})},showShareMenu:function(){wx.showShareMenu()},onShareAppMessage:function(t){console.log("\u6ce8\u518c\u70b9\u51fb\u8f6c\u53d1\u6309\u94ae\u4e8b\u4ef6"),wx.onShareAppMessage(t)},shareAppMessage:function(t){console.log("\u8f6c\u53d1:",t),wx.shareAppMessage(t)},getShareInfo:function(){var t,e,o=n.getRandomIndexForArray(window.TofuCon.cdnShareImages);return o>-1&&(t=window.TofuCon.cdnShareImages[o],e=window.TofuCon.cdnTexts[o]),{imageUrl:t,text:e}},saveCloudData:function(){if("undefined"!=typeof wx){var t=wx.getSystemInfoSync();if(t&&t.SDKVersion<"1.9.92")console.log("\u652f\u6301\u7248\u672c\u5c0f\u4e8e1.9.92\uff0c\u4e0d\u80fd\u5b58\u50a8\u5230\u5fae\u4fe1\u4e91\u7aef");else if(Const){var e={KVDataList:[{key:"maxScore",value:parseInt(window.TofuCon.GameLocal.currLevel)+""},{key:"maxLevel",value:parseInt(window.TofuCon.GameLocal.currLevel)+""}]};console.log("wx saveCloudData:",e),this.setUserCloudStorage(e)}}},setUserCloudStorage:function(t){try{console.log("WxGlobal setUserCloudStorage:",t),wx.setUserCloudStorage(t)}catch(e){console.log(e)}},setMaxScore:function(t,e){o.queryString="nickName="+o.userInfo.nickName+"&maxscore="+t+"&gold="+e+"&gender="+o.userInfo.gender+"&avatarUrl="+o.userInfo.avatarUrl,console.log("wx setMaxScore, query:",o.queryString)},shareGame:function(t){console.log("\u5206\u4eab\u5230\u7fa4:",t);var e=this.getShareInfo(),n=t.successCallback,i=t.failCallback;this.sharePointConfig={name:t.shareName,arg:t.arg,wait:t.isWait,successcallback:n,failcallback:i,shareTime:new Date},1==t.isWait&&(n=null,i=null),o.shareAppMessage({title:e.text,imageUrl:e.imageUrl,query:o.queryString,success:function(e){console.log("wx\u5206\u4eab\u6210\u529f",e),e.shareTickets?(o.shareTicketEnabled=!0,o.shareTicket=e.shareTickets[0],wx.getShareInfo({shareTicket:e.shareTickets[0],success:function(e){console.log("\u83b7\u53d6\u5206\u4eab\u4fe1\u606f\u6210\u529f",e),e&&null!=n&&n(null,o.shareTicket,t.arg)},fail:function(){console.log("\u83b7\u53d6\u5206\u4eab\u4fe1\u606f\u5931\u8d25"),i&&i("",t.arg)},complete:function(){}})):(console.log("wx\u5206\u4eab\u5230\u7fa4\u5931\u8d25",i,t.arg),i&&i("fail",t.arg))},fail:function(){console.log("wx\u6362\u4e2a\u7fa4\u8bd5\u8bd5\u5427",i,t.arg),i&&i("cancel",t.arg)},complete:function(){console.log("wx\u5206\u4eab\u7ed3\u675f",i)}})},getFriendRank:function(t){try{var e=wx.getOpenDataContext();o.shareTicketEnabled&&(t.shareTicket=o.shareTicket),e.postMessage(t)}catch(n){}},getBattleGameView:function(t){try{var e=wx.getOpenDataContext();o.shareTicketEnabled&&(t.shareTicket=o.shareTicket),console.log("post message",t),e.postMessage(t)}catch(n){}},getGroupRank:function(t){var e={type:t.type,arg:t,successCallback:this.onShareGroupSuccess.bind(this),failCallback:this.onShareGroupFail.bind(this)};this.shareGame(e)},onShareGroupSuccess:function(t,e,n){console.log("\u989d\u5916\u53c2\u6570",n);try{var o=wx.getOpenDataContext();n.shareTicket=e,o.postMessage(n)}catch(i){}},onShareGroupFail:function(t,e){e&&e.callback&&e.callback("failed")},getGameOverUIRank:function(t){try{cc.log("getGameOverUIRank",t);var e=wx.getOpenDataContext();o.shareTicketEnabled&&(t.shareTicket=o.shareTicket),e.postMessage(t)}catch(n){}},getInitFriendRank:function(t){try{var e=wx.getOpenDataContext();o.shareTicketEnabled&&(t.shareTicket=o.shareTicket),e.postMessage(t)}catch(n){}},getNextFriendRank:function(t){try{var e=wx.getOpenDataContext();o.shareTicketEnabled&&(t.shareTicket=o.shareTicket),e.postMessage(t)}catch(n){}}};e.exports=o,cc._RF.pop()},{util:"util"}],WxBannerAd:[function(t,e){"use strict";cc._RF.push(e,"ebac4P28c1HrIhgxvVFGrZ3","WxBannerAd"),t("util");var n={bannerAd:null,isCreateSuccess:!1,createBannerAd:function(){var t=this;if(4==window.pFlg)window.show_g_banner();else if("undefined"!=typeof wx){var e=wx.getSystemInfoSync();if(console.log("sysinfo: ",e),e&&e.SDKVersion&&""!==e.SDKVersion&&e.SDKVersion.slice(0,5).replace(/\./g,"")>=204){if(console.log("bannerAd:",this.bannerAd),this.isCreateSuccess&&!window.TofuCon.GameCDNData.refreshBanner)return console.log("\u4e0d\u5237\u65b0banner\u5e7f\u544a"),void this.showBannerAd();this.destroyBannerAd();try{if(this.bannerAd=wx.createBannerAd({adUnitId:"adunit-668b4f59f6f0c6c9",style:{left:0,top:0,width:200}}),console.log("\u521b\u5efabannerAd\u6210\u529f\uff01",this.bannerAd),this.bannerAd){var n=this;this.bannerAd.show().then(function(){n.isCreateSuccess=!0,console.log("banner \u5e7f\u544a\u663e\u793a")}),this.bannerAd.onError(function(t){console.log("\u9519\u8bef\u76d1\u542c\uff1a",t)}),this.bannerAd.onResize(function(o){if(console.log("banner onResize res:",o.width,o.height),console.log("banner onResize style real:",t.bannerAd.style.realWidth,t.bannerAd.style.realHeight),n.bannerAd&&n.bannerAd.style){var i="Normal"==window.TofuCon.phoneModel?0:.01;console.log("fitOffsetY:",i);var a=i;"Normal"!=window.TofuCon.phoneModel&&(console.log("isIphoneX\u6216\u8005\u662f\u5168\u9762\u5c4f\uff01"),a*=40),console.log("banner onResize res:",o.width,o.height),n.bannerAd.style.left=(e.screenWidth-o.width)/2,n.bannerAd.style.top=e.screenHeight-o.height-Math.abs(a)}})}else console.log("\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01")}catch(o){console.log(o)}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.0.4 \u540e\u518d\u4f7f\u7528\u8be5 API")}},hideBannerAd:function(){4==window.pFlg?window.hideBanner():this.bannerAd&&this.bannerAd.hide()},showBannerAd:function(){4==window.pFlg?window.show_g_banner():this.bannerAd&&this.bannerAd.show()},destroyBannerAd:function(){if(4==window.pFlg)window.hideBanner();else if(this.bannerAd){if(this.hideBannerAd(),!window.TofuCon.GameCDNData.refreshBanner)return;try{this.bannerAd.destroy(),this.bannerAd=null}catch(t){this.bannerAd=null}}},forceDestroyBannerAd:function(){if(4==window.pFlg)window.hideBanner();else if(this.bannerAd&&window.TofuCon.GameCDNData.refreshBanner)try{this.bannerAd.destroy(),this.bannerAd=null}catch(t){this.bannerAd=null}}};e.exports=n,cc._RF.pop()},{util:"util"}],WxChaAd:[function(t,e){"use strict";cc._RF.push(e,"c64d303VrpPIpe8PxwaalRb","WxChaAd"),t("util");var n={chaAd:null,createChaAd:function(t){if(4==window.pFlg)window.show_g_interstitial();else if("undefined"!=typeof wx){var e=wx.getSystemInfoSync();if(console.log("sysinfo: ",e),e&&e.SDKVersion&&""!==e.SDKVersion&&e.SDKVersion.slice(0,5).replace(/\./g,"")>=204){console.log("chaAd:",this.chaAd);try{this.chaAd=wx.createInterstitialAd({adUnitId:"adunit-195b106265503d8a"}),this.chaAd?(this.chaAd.show().catch(function(){t("error")}),this.chaAd.onError(function(e){console.log("\u9519\u8bef\u76d1\u542c\uff1a",e),t("error")}),this.chaAd.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t("ok")}),this.chaAd.onClose(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),t("close")})):(console.log("cha\u5e7f\u544a\u6ca1\u6709\u521b\u5efa\u6210\u529f\uff01"),t("error"))}catch(n){console.log(n),t("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.0.4 \u540e\u518d\u4f7f\u7528\u8be5 API"),t("error")}}};e.exports=n,cc._RF.pop()},{util:"util"}],WxPortal:[function(t,e){"use strict";cc._RF.push(e,"9935blLqLhMJLuWbaHC1KDm","WxPortal"),t("util");var n={portalAd:null,iconAd:null,bannerAd:null,isSuccess:[0,0,0,0],createAd:function(t,e){var n=this;if(4==window.pFlg);else if("undefined"!=typeof wx){var o=wx.getSystemInfoSync();if(console.log("sysinfo: ",o),o&&o.SDKVersion&&""!==o.SDKVersion&&o.SDKVersion.slice(0,5).replace(/\./g,"")>=275){var i=o.SDKVersion.slice(0,5).replace(/\./g,"");if(!window.TofuCon.GameCDNData.refreshBanner&&1==this.isSuccess[t])return console.log("\u4e0d\u5237\u65b0\u63a8\u8350\u4f4d"),void this.showBannerAd(t);this.destroyBannerAd(t);try{2==t?(wx.createGameBanner&&(this.bannerAd=wx.createGameBanner({adUnitId:"PBgAAcR_sgTxCS1w",style:{left:0,top:o.windowHeight}})),this.bannerAd&&(this.isSuccess[t]=1,this.bannerAd.show().catch(function(){e("error")}))):1==t?(console.log("iconAd creat check",i),i>=282&&wx.createGameIcon&&(console.log("iconAd creat start"),this.iconAd=wx.createGameIcon({adUnitId:"PBgAAcR_sgT_xJ48",count:3,style:[{appNameHidden:0,color:"#ffffff",borderWidth:2,borderColor:"#ffea00",size:30,top:.3*o.windowHeight,left:.01*o.windowWidth},{appNameHidden:0,color:"#ffffff",borderWidth:2,borderColor:"#ffea00",size:30,top:.2*o.windowHeight,left:.01*o.windowWidth},{appNameHidden:0,color:"#ffffff",borderWidth:2,borderColor:"#ffea00",size:30,top:.1*o.windowHeight,left:.01*o.windowWidth}]})),this.iconAd&&(console.log("iconAd creat success"),this.isSuccess[t]=1,this.iconAd.load().then(function(){console.log("iconAd load success"),n.iconAd.show()}).catch(function(t){console.log(t),e("error")}))):3==t&&(wx.createGamePortal&&(this.portalAd=wx.createGamePortal({adUnitId:"PBgAAcR_sgT2qgW8"})),this.portalAd&&(this.isSuccess[t]=1,this.portalAd.load().then(function(){n.portalAd.show()}).catch(function(){e("error")}),this.portalAd.onClose(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),n.portalAd=null,n.isSuccess[t]=0,e("close")})))}catch(a){console.log(a),e("error")}}else console.log("SDKVersion \u5224\u65ad\u57fa\u7840\u5e93\u7248\u672c\u53f7 >= 2.7.5 \u540e\u518d\u4f7f\u7528\u8be5 API"),e("error")}},hideAd:function(t){1==t&&null!=this.iconAd&&this.iconAd.hide(),2==t&&null!=this.bannerAd&&this.bannerAd.hide(),3==t&&null!=this.portalAd&&this.portalAd.hide()},showBannerAd:function(t){1==t&&null!=this.iconAd&&this.iconAd.show(),2==t&&null!=this.bannerAd&&this.bannerAd.show(),3==t&&null!=this.portalAd&&this.portalAd.show()},destroyBannerAd:function(t){if(1==t){if(this.iconAd){if(console.log("destroyBannerAd",t),this.iconAd.hide(),!window.TofuCon.GameCDNData.refreshBanner)return;try{this.iconAd.destroy(),this.iconAd=null}catch(e){this.iconAd=null}}}else if(2==t){if(this.bannerAd){if(console.log("destroyBannerAd",t),this.bannerAd.hide(),!window.TofuCon.GameCDNData.refreshBanner)return;try{this.bannerAd.destroy(),this.bannerAd=null}catch(e){this.bannerAd=null}}}else if(3==t&&this.portalAd){if(console.log("destroyBannerAd",t),this.portalAd.hide(),!window.TofuCon.GameCDNData.refreshBanner)return;try{this.portalAd.destroy(),this.portalAd=null}catch(e){this.portalAd=null}}}};e.exports=n,cc._RF.pop()},{util:"util"}],WxVideoAd:[function(t,e){"use strict";cc._RF.push(e,"65c44KqSihHM5Wur4iMIbeB","WxVideoAd");var n={videoAd:null,installVideo:function(t,e,n){if("undefined"!=typeof wx)try{var o=wx.createRewardedVideoAd({adUnitId:"adunit-ca794fa3c1681554"});o.load().then(function(){return o.show()}).catch(function(){}),o.offClose(),o.onClose(function(o){null==o?t&&t(n):o.isEnded?t&&t(n):e&&e("cancle")}),o.onError(function(){e&&e("error")})}catch(i){e&&e("error")}},onEnabled:function(){}};e.exports=n,cc._RF.pop()},{}],data:[function(t,e){"use strict";cc._RF.push(e,"99f76+JcvtOPLXr1hQBqLUF","data"),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},window.SHENHE_VERSION=8;var n="chufang.xinqianxun.com:11000";if(window.jump_adv_index=0,window.BUILD_VERSION=7,window.code_version=0,window.isShenHe=function(){return null!=window.code_version&&window.BUILD_VERSION>=window.code_version||10==window.pFlg||window.dizhiCheck()},window.isShenHeForCheckIp=function(){return null!=window.code_version&&window.BUILD_VERSION>=window.code_version},cc.sys.platform===cc.sys.WECHAT_GAME){window.apiPath="https://"+n;try{wx.getSystemInfoSync().platform.search("android")}catch(o){}window.pFlg=1}else cc.sys.platform===cc.sys.QQ_PLAY?window.pFlg=2:cc.sys.os==cc.sys.OS_IOS?(window.pFlg=4,window.isAndroid=0,window.apiPath=""):(window.apiPath="https://"+n,window.pFlg=0);window.dataCache={},window.currentShowScene=null,window.setLocalData=function(t,e){1==window.pFlg?wx.setStorage({key:t,data:e}):2==window.pFlg?qq.setStorage({key:t,data:e}):11==window.pFlg?tt.setStorage({key:t,data:e}):cc.sys.localStorage.setItem(t,e)},window.getLocalDataByKey=function(t){var e;return 1==window.pFlg?""==(e=wx.getStorageSync(t))||null==e?null:e:2==window.pFlg?""==(e=qq.getStorageSync(t))||null==e?null:e:11==window.pFlg?""==(e=tt.getStorageSync(t))||null==e?null:e:""==(e=cc.sys.localStorage.getItem(t))||null==e?null:e},window.removeLoacalData=function(t){1==window.pFlg?wx.removeStorageSync(t):2==window.pFlg?qq.removeStorageSync(t):11==window.pFlg?tt.removeStorageSync(t):cc.sys.localStorage.removeItem(t)},window.uploadScore=function(t){1==window.pFlg&&wx.setUserCloudStorage({KVDataList:[{key:"score",value:""+t}],success:function(t){console.log(t)},fail:function(t){console.log(t)}})},window.saveUser=function(){if(null!=window.user&&null!=window.user){var t=JSON.stringify(window.user);window.isWeb,window.setLocalData("user_cixiu",t)}},window.gameFinished=0,window.eventMap={},window.fire_event=function(t,e){var n=eventMap[t];if(null!=n)for(var o=n.length,i=0;i<o;i++){var a=n[i];a.callBack(e,a.target)}},window.registEvent=function(t,e,n){var o=eventMap[t];null==o&&(o=[],eventMap[t]=o);var i={};i.target=n,i.callBack=e,o.push(i)},window.unRegistEvent=function(t){for(var e in eventMap)for(var n=eventMap[e],o=n.length,i=0;i<o;i++)n[i].target==t&&(n.splice(i,1),i--,o--,cc.log("\u79fb\u9664\u4e8b\u4ef6\u5bf9\u8c61:"+e+",node:"+t.name))},window.decrypt=function(t){return CryptoJS.AES.decrypt(t.toString(),"qq445284493").toString(CryptoJS.enc.Utf8)},window.crypt=function(t){return CryptoJS.AES.encrypt(t,"qq445284493").toString()},window.showModal=function(t,e){cc.log(t),null==t&&(t="\u5206\u4eab\u5230\u7fa4\uff0c\u6709\u7fa4\u53cb\u70b9\u51fb\u624d\u53ef\u4ee5\u83b7\u53d6\u5956\u52b1\u54e6!"),1==window.pFlg?wx.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:t,showCancel:!0,success:function(t){t.confirm?null!=e&&e():t.cancel}}):2==window.pFlg?qq.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:t,showCancel:!0,success:function(t){t.confirm?null!=e&&e():t.cancel}}):11==window.pFlg?tt.showModal({title:"\u7cfb\u7edf\u63d0\u793a",content:t,showCancel:!0,success:function(t){t.confirm?null!=e&&e():t.cancel}}):window.showTip(t)},window.showTip=function(t,e){cc.log(t),null==window.tip||null==window.tip?(1==window.pFlg?wx.showToast({title:t,icon:"none",duration:2e3,complete:function(){null!=e&&e()}}):2==window.pFlg&&qq.showToast({title:t,icon:"none",duration:2e3,complete:function(){null!=e&&e()}}),null!=e&&e()):window.tip.js.showTip(t)},window.shareTitle="\u523a\u7ee3\u5973\u5b69,\u6700\u5168\u7684\u6709\u8da3\u7684\u523a\u7ee3\u56fe\u6848",window.shareImageUrl="https://moneygame.oss-cn-hanu.aiyuncs.com/share1.png",window.getShareObj=function(){var t={};""!=window.shareImageUrl&&window.shareImageUrl.length>0?window.shareImageUrls=window.shareImageUrl.split("###"):window.shareImageUrls=[],""!=window.shareTitle&&window.shareTitle.length>0?window.shareTitles=window.shareTitle.split("###"):window.shareTitles=[];var e=window.shareImageUrls.length,n=window.shareTitles.length,o=e;o<n&&(o=n);for(var i=[],a=0;a<o;a++){var r={};r.img=a<e?window.shareImageUrls[a]:e>0?window.shareImageUrls[e-1]:"https://res.bi17.cn/run3d/share/share1.png",r.title=a<n?window.shareTitles[a]:n>0?window.shareTitles[n-1]:"\u6700\u597d\u73a9\u7684\u591a\u4eba\u5728\u7ebf\u8dd1\u9177\u6e38\u620f!!!",i.push(r)}return i.sort(function(){return.5-Math.random()}),(t=i[0]).id=0,t},window.getShareImageUrl=function(){return null!=window.apiConfig&&null!=window.apiConfig.data.copywriting_list&&window.apiConfig.data.copywriting_list.length>0?(window.apiConfig.data.copywriting_list.sort(function(){return.5-Math.random()}),window.apiConfig.data.copywriting_list[0].image):0==window.shareImageUrls.length?"":(window.shareImageUrls.sort(function(){return.5-Math.random()}),window.shareImageUrls[0])},window.getShareTitle=function(){return null!=window.apiConfig&&null!=window.apiConfig.data.copywriting_list&&window.apiConfig.data.copywriting_list.length>0?(window.apiConfig.data.copywriting_list.sort(function(){return.5-Math.random()}),window.apiConfig.data.copywriting_list[0].title):0==window.shareTitle.length?"@\u5168\u4f53~\u8fd9\u6b3e\u98de\u673a\u6e38\u620f\u592a\u523a\u6fc0\u4e86,\u961f\u53cb\u7684\u63a9\u62a4\u4e0b\u6211\u5df2\u7ecf5\u6740\u4e86\uff01":(window.shareTitle.sort(function(){return.5-Math.random()}),window.shareTitle[0])},window.replaceAll=function(t,e,n){for(;t.indexOf(e)>=0;)t=t.replace(e,n);return t},window.vibrateShort=function(){1==window.user.shake&&(2==window.pFlg?qq.vibrateShort({success:function(){},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):11==window.pFlg&&tt.vibrateShort({success:function(){},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}))},window.bgMusicHandle=null,window.musicMap={},window.soundHandleMap={},window.soundEffectQueue=[],window.playSound=function(t){if(0!=window.user.music){if(t="sound/"+t,window.soundEffectQueue.length>=20){var e=window.soundEffectQueue[0];window.soundEffectQueue.splice(0,1),null!=e&&cc.audioEngine.stopEffect(e)}var n=window.soundHandleMap[t];if(null!=n){var o=cc.audioEngine.playEffect(n,!1);window.soundEffectQueue.push(o)}else cc.loader.loadRes(t,cc.AudioClip,function(e,n){var o=cc.audioEngine.playEffect(n,!1);window.soundEffectQueue.push(o),window.soundHandleMap[t]=n})}},window.bgMusic=null,window.playMusic=function(t){0!=window.user.music&&(t="sound/"+t,window.stopMusic(),cc.loader.loadRes(t,cc.AudioClip,function(t,e){window.bgMusic=cc.audioEngine.playMusic(e,!0)}))},window.stopMusic=function(){cc.audioEngine.stopMusic()},window.nodesCache={},window.popNodeFromCache=function(t){var e=window.nodesCache[t];if(null==e)return null;if(e.size()>0){var n=e.get();return n.active=!0,n}return null},window.pushNodeToCache=function(t,e){var n=window.nodesCache[t];if(null==n){var o=new cc.NodePool;o.put(e),window.nodesCache[t]=o}else n.put(e)},window.findNode=function(t,e){for(var n=t.children,o=n.length,i=0;i<o;i++){var a=n[i];if(a.name==e)return a;var r=window.findNode(a,e);if(null!=r)return r}return null},window.getComponent=function(t,e,n){return null==e?t.getComponent(n):window.findNode(t,e).getComponent(n)},window.deleteArrNodes=function(t){for(var e=0;e<t.length;e++)t[e].destroy()},window.setLocalZOrder=function(t,e){0==window.cocos_version?t.setLocalZOrder(e):t.zIndex=e},window.pSub=function(t,e){if(0==window.cocos_version)return cc.pSub(t,e);var n=cc.v2(t.x,t.y),o=cc.v2(e.x,e.y);return n.sub(o)},window.pToAngle=function(t){var e=cc.v2(t.x,t.y);return Math.atan2(e.y,e.x)},window.pForAngle=function(t){return cc.v2(Math.cos(t),Math.sin(t))},window.pNormalize=function(t){return 0==window.cocos_version?cc.pNormalize(t):cc.v2(t.x,t.y).normalizeSelf()},window.pMult=function(t,e){return 0==window.cocos_version?cc.pMult(t,e):cc.v2(t.x,t.y).mul(e)},window.pDistance=function(t,e){return t.sub(e).mag()},window.rectContainsPoint=function(t,e){var n=new cc.Rect(t.x,t.y,t.width,t.height),o=cc.v2(e.x,e.y);return n.contains(o)},window.randomMinus1To1=function(){return Math.random()<.5?Math.random():-Math.random()},window.shareFailCount=0,window.shareTo=function(t,e,n,o){var i=window.getShareObj();e=""!=e&&null!=e?e+"&shareId="+i.id+"&shareUid="+window.user.uid:"shareId="+i.id+"&shareUid="+window.user.uid;var a=i.title;null!=n&&""!=n&&(a=n),1==window.pFlg?(wx.shareAppMessage({title:a,imageUrl:i.img,query:e,success:function(){}}),window.shareCallBack=t,window.checkShowTime=-1):2==window.pFlg?(null!=o?qq.shareAppMessage({title:a,imageUrl:i.img,query:e,shareAppType:o,success:function(){}}):qq.shareAppMessage({title:a,imageUrl:i.img,query:e,success:function(){}}),window.shareCallBack=t,window.checkShowTime=-1):6==window.pFlg?BK.QQ.shareToArk(0,window.shareContent,i.img,!0,e,function(e){t(0==e?0:-1)}):t(0)},window.loadBanner=function(t){if(2==window.pFlg);else if(1==window.pFlg&&""!=window.adv_banner){var e=wx.getSystemInfoSync();window.barner=wx.createBannerAd({adUnitId:"adunit-ba9211e115b7ed29",style:{left:0,top:e.windowHeight,width:e.windowWidth}}),window.barner.onResize(function(){null!=window.barner&&(window.barner.style.top=e.windowHeight-window.barner.style.realHeight,window.barner.style.left=(e.windowWidth-window.barner.style.realWidth)/2)}),window.barner.onLoad(function(){t()}),window.barner.onError(function(t){cc.log("\u5e7f\u544a\u9519\u8bef:"+t.errMsg+","+t.errCode)})}},window.showBanner3=function(){2==window.pFlg?null!=window.barner&&null!=window.barner&&window.barner.show():1==window.pFlg&&null!=window.barner&&null!=window.barner&&window.barner.show()},window.showBanner=function(t,e,n){if(window.hideBanner(),2==window.pFlg)if(null==window.barner||null==window.barner){console.log("************************2");var o=(a=qq.getSystemInfoSync()).windowWidth,i=a.windowHeight;1==window.isPad&&(o/=2),null!=n&&(o=n),window.barner=qq.createBannerAd({adUnitId:"70c200f9e035c475c2805ee5b87d5242",style:{left:0,top:i-80,width:o}}),window.barner.onResize(function(e){window.barner.style.top=a.windowHeight-e.height,window.barner.style.left=(a.windowWidth-e.width)/2,(null==t||t)&&window.barner.show()}),window.barner.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),window.barner.onError(function(t){console.log("\u5e7f\u544a\u9519\u8bef:"+t.errMsg+","+t.errCode)})}else window.barner.show();else if(1==window.pFlg){if(""!=window.adv_banner){null==e&&(e=window.adv_banner);var a=wx.getSystemInfoSync();null==window.barner&&(window.barner=wx.createBannerAd({adUnitId:"adunit-3c31f8eae49776b0",style:{left:0,top:a.windowHeight,width:50}}),window.barner.onResize(function(){null!=window.barner&&(window.barner.style.top=a.windowHeight-window.barner.style.realHeight,window.barner.style.left=(a.windowWidth-window.barner.style.realWidth)/2)}),window.barner.onError(function(t){cc.log("\u5e7f\u544a\u9519\u8bef:"+t.errMsg+","+t.errCode)})),t&&window.barner.show()}}else if(11==window.pFlg){if(null==tt.createBannerAd)return;""!=window.adv_banner&&(null==e&&(e=window.adv_banner),e="11ah1hfgq86h8kgdcd",a=tt.getSystemInfoSync(),null==window.barner&&(window.barner=tt.createBannerAd({adUnitId:e,style:{left:0,top:a.windowHeight,width:150}}),window.barner.onResize(function(t){t.height>150?window.barner.style.top=a.windowHeight-150:window.barner.style.top=a.windowHeight-t.height,window.barner.style.left=(a.windowWidth-t.width)/2,console.log("====show banner1")}),window.barner.onLoad(function(){t&&(console.log("====show banner2"),window.barner.show())}),window.barner.onError(function(t){cc.log("\u5e7f\u544a\u9519\u8bef:"+t.errMsg+","+t.errCode)})))}else 4==window.pFlg&&window.show_g_banner()},window.showBanner2=function(t){if(!window.isShenHe()&&(window.hideBanner(),2==window.pFlg))if(null==window.barner||null==window.barner){console.log("************************3");var e=qq.getSystemInfoSync(),n=(e.windowWidth,e.windowHeight);window.isPad,window.barner=qq.createBannerAd({adUnitId:"75415a6003ed03e30118cbedf3fd186c",style:{left:0,top:n-80,width:100}}),window.barner.onResize(function(){null!=window.barner&&null!=window.barner.style.realHeight&&(window.barner.style.top=e.windowHeight-window.barner.style.realHeight,window.barner.style.left=e.windowWidth-window.barner.style.realWidth)}),(null==t||t)&&window.barner.show(),window.barner.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),window.barner.onError(function(t){console.log("\u5e7f\u544a\u9519\u8bef:"+t.errMsg+","+t.errCode)})}else window.barner.show()},window.hideBanner=function(){2==window.pFlg?null!=window.barner&&null!=window.barner&&(console.log("************************1"),window.barner.destroy(),window.barner=null):1==window.pFlg?null!=window.barner&&null!=window.barner&&(window.barner.destroy(),window.barner=null):11==window.pFlg?null!=window.barner&&null!=window.barner&&(window.barner.destroy(),window.barner=null):4==window.pFlg&&window.hide_g_banner()},window.checkHasNoVideo=function(){if(null!=window.apiConfig&&null!=window.apiConfig.data.ad.all_play_count&&window.apiConfig.data.ad.all_play_count>0){var t=0,e=window.getLocalDataByKey("hasPlayCount");null!=e&&(t=parseInt(e));var n=(new Date).Format("yyyy-MM-dd");return n!=window.getLocalDataByKey("hasPlayCount_day")&&(window.setLocalData("hasPlayCount_day",n),t=0,window.setLocalData("hasPlayCount",""+t)),t>=window.apiConfig.data.ad.all_play_count}return!1},window.checkUI=0,window.interstitialAd=null,window.first_open_game=0,window.showInterstitialAd=function(t){if(null==window.user.show_intersitail_count&&(window.user.show_intersitail_count=0),4!=window.pFlg)1==window.pFlg?(null==window.interstitialAd&&wx.createInterstitialAd&&(window.interstitialAd=wx.createInterstitialAd({adUnitId:window.interstitial_id})),(null==t||t)&&null!=window.interstitialAd&&window.interstitialAd.show().catch(function(){})):window.pFlg;else{if(0==window.first_open_game)return;window.show_g_interstitial()}},window.showInterstitialAd2=function(){if(2!=window.pFlg){if(1==window.pFlg)null==window.interstitialAd&&wx.createInterstitialAd&&(window.interstitialAd=wx.createInterstitialAd({adUnitId:"adunit-5ead46b18219e979"})),null!=window.interstitialAd&&null!=window.interstitialAd&&window.interstitialAd.show().catch(function(){});else if(11==window.pFlg&&null!=tt.createInterstitialAd&&"Toutiao"===tt.getSystemInfoSync().appName){var t=tt.createInterstitialAd({adUnitId:"bhlngami3ad1bjchb3"});t.load().then(function(){t.show()}).catch(function(t){console.log(t)})}4!=window.pFlg||window.show_g_interstitial()}else if(null!=qq.createInterstitialAd&&null==window.InterstitialAd){var e=qq.createInterstitialAd({adUnitId:"635c70c65fbdd65dd764210be61aaa89"});e.load().catch(function(){}),e.onLoad(function(){console.log("onLoad event emit")}),e.onClose(function(){console.log("close event emit")}),e.onError(function(t){console.log("error",t)}),e.show().catch(function(){}),window.InterstitialAd=e}else null!=window.InterstitialAd&&window.InterstitialAd.show().catch(function(){})},window.showBoxBanner=function(){if(2==window.pFlg){var t=qq.createAppBox({adUnitId:"432426e95058e780eff4cd056b456c08"});t.load().then(function(){t.show()})}},window.isAndroid=function(){if(2!=window.pFlg)return!0;var t=qq.getSystemInfoSync();return-1!=t.system.indexOf("Android")||-1!=t.system.indexOf("android")},window.showBlockAd=function(t,e,n){if(2!=window.pFlg)return!1;if(1!=window.SHOW_BLOCK_AD)return!1;if(null==qq.createBlockAd)return console.log("qq\u7248\u672c\u4e0d\u652f\u6301block ad!"),!1;window.hideBlockAd();var o=qq.getSystemInfoSync(),i=o.windowWidth,a=o.windowHeight;if(-1==o.system.indexOf("Android")&&-1==o.system.indexOf("android"))return!1;i=o.windowWidth*o.pixelRatio,a=o.windowHeight*o.pixelRatio;var r=null;return(r=qq.createBlockAd({adUnitId:"6215034d0f6941daa8be8380c163455e",size:e,orientation:n,style:{left:i/2,top:a/2}})).onLoad(function(){r.show()}),r.onError(function(t){console.log("block ad err:"+t.errMsg)}),r.onResize(function(e){var n=e.realWidth,o=e.realHeight;null==n&&(n=e.width,o=e.height),0==t?(r.style.left=i-n,r.style.top=a/2-o/2+50):2==t?(r.style.left=i-n,r.style.top=a/2-o/2-50):1==t&&(r.style.left=(i-n)/2,r.style.top=a-o)}),window.blockAd=r,!0},window.hideBlockAd=function(){null!=window.blockAd&&null!=window.blockAd&&(window.blockAd.destroy(),window.blockAd=null)},window.showVideo=function(t,e,n){if(1!=window.is_showing_video){if(window.is_showing_video=1,window.lastVideoTime=(new Date).getTime(),window.showVideoCallBack=e,4==window.pFlg)return window.fire_event("SHOW_LOADING_VIDEO",{}),void window.show_g_video(function(t){window.is_showing_video=0,window.fire_event("SHOW_LOADING_VIDEO_CLOSE",{}),0==t?window.showVideoCallBack(0):-2==t?(console.log("\u89c6\u9891\u672a\u770b\u5b8c"),window.showVideoCallBack(-1)):(console.log("\u52a0\u8f7d\u5931\u8d25\u89c6\u9891"),window.showTip("\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25!"),window.showVideoCallBack(-1))});if(2==window.pFlg){var o="4a236ac3960308c10bbdeff531ccc783",i=qq.createRewardedVideoAd({adUnitId:o});return window.share_has=0,i.load().then(function(){return i.show()}).catch(function(){console.log("video\u5931\u8d25!,"+window.share_has+","+window.video_fail_share+","+window.isShenHe()),window.is_showing_video=0,window.showVideoCallBack(-2),window.showModal("\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u5931\u8d25#!")}),void(window.videoAdv!=i&&(window.videoAdv=i,i.onLoad(function(){}),i.onError(function(){window.is_showing_video=0,window.showVideoCallBack(-2),window.showModal("\u64ad\u653e\u89c6\u9891\u5e7f\u544a\u5931\u8d25!")}),i.onClose(function(t){window.is_showing_video=0,t&&t.isEnded||void 0===t?window.showVideoCallBack(0):window.showVideoCallBack(-1)})))}if(11==window.pFlg)return o=window.adv_video,null!=n&&(o=n),o="4kbh9e56fd6b61d6be",(i=tt.createRewardedVideoAd({adUnitId:o})).show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(){console.log("\u5e7f\u544a\u663e\u793a\u5931\u8d25"),window.is_showing_video=0}),void(window.videoAdv!=i&&(window.videoAdv=i,i.onLoad(function(){console.log("\u5e7f\u544aonLoad")}),i.onError(function(){window.is_showing_video=0,window.showVideoCallBack(-2),window.showModal("\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u5931\u8d25!")}),i.onClose(function(t){window.is_showing_video=0,t&&t.isEnded||void 0===t?window.showVideoCallBack(0):window.showVideoCallBack(-1)})));if(1==window.pFlg)return wx.getSystemInfoSync().SDKVersion<"2.0.4"?(wx.showModal({title:"\u5931\u8d25",showCancel:!1,content:"\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u89c6\u9891\u63a5\u53e3.",success:function(t){t.confirm?console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"):t.cancel&&console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88")}}),window.showVideoCallBack(-1),void(window.is_showing_video=0)):(o=n,i=wx.createRewardedVideoAd({adUnitId:"adunit-a0c7e2246c50db8e"}),window.share_has=0,i.load().then(function(){return i.show()}).catch(function(){window.is_showing_video=0,console.log("video\u5931\u8d25!,"+window.share_has+","+window.video_fail_share+","+window.isShenHe()),window.isShenHe()?window.showModal("\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u5931\u8d25!"):0==window.share_has&&"1"==window.video_fail_share&&(window.fire_event("SHARE_TO",{callBack:window.showVideoCallBack}),window.share_has=1)}),void(window.videoAdv!=i&&(window.videoAdv=i,i.onLoad(function(){}),i.onError(function(){window.is_showing_video=0,window.isShenHe()?window.showModal("\u672a\u83b7\u53d6\u5230\u89c6\u9891\u5e7f\u544a!"):0==window.share_has&&"1"==window.video_fail_share?(window.fire_event("SHARE_TO",{callBack:window.showVideoCallBack}),window.share_has=1):window.showModal("\u52a0\u8f7d\u89c6\u9891\u5e7f\u544a\u5931\u8d25!")}),i.onClose(function(t){window.is_showing_video=0,t&&t.isEnded||void 0===t?window.showVideoCallBack(0):(window.showModal("\u672a\u6b63\u5e38\u770b\u5b8c\u5e7f\u544a\u89c6\u9891,\u65e0\u6cd5\u83b7\u5f97\u5956\u52b1."),window.showVideoCallBack(-1))}))));window.is_showing_video=0,window.showVideoCallBack(0)}else console.log("\u6709\u672a\u5b8c\u6210\u7684\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u4e2d.")},window.checkArriveAt=function(t,e,n){var o=window.pSub(t,n),i=window.pNormalize(o),a=e.x>=0&&i.x<=0&&e.y>=0&&i.y<=0,r=e.x>=0&&i.x<=0&&e.y<=0&&i.y>=0,s=e.x<=0&&i.x>=0&&e.y>=0&&i.y<=0,c=e.x<=0&&i.x>=0&&e.y<=0&&i.y>=0;return!!(a||r||s||c)},window.aldSendEvent=function(t){t.cn,window.pFlg},window.GenNonDuplicateID=function(){return""+(new Date).getTime()+parseInt(1e3*Math.random())},window.initUser=function(){var t=!1;if(null==window.user){var e=null;null!=(window.isWeb,e=window.getLocalDataByKey("user_cixiu"))&&null!=e?window.user=JSON.parse(e):(window.user={},window.user.id=window.GenNonDuplicateID(5),window.user.name="\u6e38\u5ba2",window.user.head="",window.user.city="",window.user.gold=0,window.user.tili=6,window.user.diamod=0,window.user.level=1,window.user.music=1,window.user.shake=1,window.user.exp=0,window.user.guanka=0,window.user.tiliTime=(new Date).getTime(),window.user.qianDaoDayNum=1,window.user.hasQianDao=0,window.user.qianDaoAllDayNum=0,window.user.choujiangcishu=0,window.user.niudanjicishu=0,window.user.tilicishu=0,window.user.share_video_flg1=1,window.user.finish_video=1,window.user.lihe_jindan_count=0,window.user.xianshilibao_time=0,window.user.xianshilibao_state=0,window.user.tuan_jindu={},window.user.tuan_jindu[1009]=0,window.user.hasTeach=0,window.user.game_hall_count=0,window.user.xuantu_teach_index=0,window.user.skins={},window.user.unGetSkins={},window.user.gameCount=0,window.user.lingqu=0,window.user.gameCount=0,window.user.teachTollgate=0,t=!0),window.user.changeUsedSkin=function(t){if(null!=window.user.skins[t]){for(var e in window.user.skins)window.user.skins[e]=0;window.user.skins[t]=1}},window.user.getUsedSkin=function(){for(var t in window.user.skins)if(1==window.user.skins[t])return t;return 6001},window.user.resetDataNewDay=function(){var t=(new Date).Format("yyyy-MM-dd");t!=window.user.gameDate&&(window.user.gameDate=t,window.user.gameCount=0,window.user.lingqu=0,window.user.hasQianDao=0,window.user.choujiangcishu=0,window.user.tilicishu=0)},window.user.addExp=function(){return!1}}return t},window.printObj=function(t){for(var e in t)console.log("\u5c5e\u6027:"+e)},window.GAME_ID=0,window.MAX_LEVEL=100,window.adv_video="adunit-23567bc3bd3dc9d6",window.adv_banner="adunit-46ba2ab1a5726d88",window.interstitial_id="adunit-0ed4bb3d21514c67",window.video_fail_share="1",window.hall_count=1,window.isRecording=!1,window.g_interstitial="ca-app-pub-4991184206538451/7659223004",window.g_banner="ca-app-pub-4991184206538451/5224631357",window.g_app="ca-app-pub-4991184206538451~3173183084",window.g_video="ca-app-pub-4991184206538451/5033059664",window.initGoogleAdv=function(){4==window.pFlg&&jsb.reflection.callStaticMethod("AppController","configureWithApplicationID:",window.g_app)},window.show_g_banner=function(){4==window.pFlg&&jsb.reflection.callStaticMethod("AppController","showBanner:pos:",window.g_banner,"100")},window.hide_g_banner=function(){4==window.pFlg&&jsb.reflection.callStaticMethod("AppController","hideBanner")},window.show_g_video=function(t){4==window.pFlg&&(window.advCallBack=t,jsb.reflection.callStaticMethod("AppController","loadVideo:",window.g_video))},window.show_g_interstitial=function(){4==window.pFlg&&jsb.reflection.callStaticMethod("AppController","loadInterstitial:",window.g_interstitial)},window.is_reward_ios_video=0,window.show_interstitial_random_a=50,window.iosCallBack=function(t,e){console.log("=========type:"+t+",data:"+e),"1"==t?(window.is_reward_ios_video=0,jsb.reflection.callStaticMethod("AppController","showVideo")):"2"==t?1==window.is_reward_ios_video?window.advCallBack(0):window.advCallBack(-2):"3"==t?window.is_reward_ios_video=1:"4"==t?window.advCallBack(-1):"5"==t?jsb.reflection.callStaticMethod("AppController","showInterstitial"):"6"==t||"100"==t&&(window.show_interstitial_random_a=parseInt(e))},window.getConfigParamOnLine=function(){4==window.pFlg&&jsb.reflection.callStaticMethod("AppController","getConfigParam")},window.dizhiCheck=function(){if(""!=window.ADRRES_CHECK&&null!=window.ADRRES_CHECK&&null!=window.city)for(var t=window.ADRRES_CHECK.split(","),e=0;e<t.length;e++){var n=t[e];if(-1!=window.city.indexOf(n))return!0}return!1},window.COUNT_FLG=0,window.configUrl="https://res.baidu.cn/cixiu_qq/config.txt",11==window.pFlg?window.configUrl="https://res.baidu.cn/cixiu_toutiao/config.txt":1==window.pFlg?window.configUrl="https://res.baidu.cn/cixiu_wx/config.txt":4==window.pFlg&&(window.configUrl="https://mywxgame.oss-cn-hhou.aliyuncs.com/store/cixiu/config.txt"),window.SHOW_EMO_BAOXIANG=1,window.MAIN_SHOW_BOX_BA_ALL=1,window.MAIN_SHOW_BOX_BA_1=.5,window.CLOSE_ACTION_ON=1,window.OVER_SHOW_BOX_BA=.5,window.SHOW_BOX_GUANKA=0,window.ADRRES_CHECK="",window.subscribeAppMsg=1,window.IS_LOCK_SKILL2=0,window.hasTeach=0,window.city="",window.MAX_TOLLGATE=80,window.SHOW_HB_UI=1,window.SHOW_FINISH_BOX=-2,window.SHOW_FINISH_BOX_GK=2,window.SHOW_Interstitial=0,window.SHOW_BAOXIANG=0,window.SHOW_ZAJINDAN=0,window.TIXIAN_1_GUANKA=2,window.TIXIAN_2_GUANKA=5,window.TIXIAN_3_GUANKA=19,window.SHOW_FINISH_VIDEO_TIP=0,window.TIXIAN_VIDEO=2,window.SHOW_FINISH_SHARE=0,window.MAX_TILI=20,window.DAY_COUNT=15,window.SHOW_MAIN_BANNER=0,window.SHOW_XUANTU_BANNER=0,window.SHOW_HALL_BANNER=0,window.SHOW_FINISH_BANNER=0,window.SHOW_BLOCK_AD=0,window.QIANGZHI_VIDOE=0,cc._RF.pop()},{}],skin:[function(t,e){"use strict";cc._RF.push(e,"06ad43HaGlJ6ajwQslid7//","skin"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){if(1==window.isPad){var t=this.node.getComponent(cc.Canvas);t.fitHeight=!0,t.fitWidth=!1}},start:function(){}}),cc._RF.pop()},{}],util:[function(t,e){"use strict";cc._RF.push(e,"9e299RK0mtNkLecrxwhv/n/","util");var n={getRandomObjForArray:function(t){return null==t||0==t.length?-1:t[Math.floor(Math.random()*t.length)]},getRandomIndexForArray:function(t){return null==t||0==t.length?-1:Math.floor(Math.random()*t.length)},getCoverAge:function(t,e){for(var n=t.getPosition(),o=t.getContentSize(),i=e.getPosition(),a=e.getContentSize(),r=new Array,s=0;s<640;s++)r[s]=0;for(s=Math.floor(n.x-o.width/2+320);s<Math.floor(n.x+o.width/2+320);s++)r[s]+=1;for(s=Math.floor(i.x-a.width/2+320);s<Math.floor(i.x+a.width/2+320);s++)r[s]+=1;var c=0;for(s=0;s<640;s++)2==r[s]&&(c+=1);return c/a.width},getRandomArray:function(t){for(var e=new Array,n=new Array,o=0;o<t;o++)e.push(o);for(o=t;o>0;o--){var i=Math.floor(Math.random()*o);n.push(e[i]),e.splice(i,1)}return console.log("getRandomArray",n),n},getRandomNum:function(t){var e=Math.random(),n=0;for(var o in t){var i=t[o];if(e>n&&e<=n+i)return o;n+=i}return-1},isArrayFn:function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},updateObj:function(t,e,n){if("object"==typeof e)for(var o in e)n==o?t[o]=e[o]:null==t[o]?t[o]=e[o]:"object"!=typeof e[o]?t[o]=e[o]:this.isArrayFn(e[o])?t[o]=e[o]:"object"==typeof e[o]&&this.updateObj(t[o],e[o],n);else console.log("not a object data")},httpGET:function(t,e,n,o){try{var i=cc.loader.getXMLHttpRequest();i.open("GET",t,!0),i.timeout=3e3,console.log(t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),null!=o&&(i.responseType=o),i.onreadystatechange=function(){404!=i.status?(e(1,1),4==i.readyState&&i.status>=200&&i.status<=207&&n(null,"arraybuffer"!=o?i.responseText:i.response)):n("no data",null)},i.onerror=function(t){n(t,null)},i.send(null)}catch(a){n(a,null)}},getPhoneModel:function(){var t=cc.view.getFrameSize();console.log("getFrameSize:",t);var e=cc.winSize.width/cc.winSize.height;if("undefined"!=typeof wx)try{var n=wx.getSystemInfoSync();if(n&&n.model)return-1!=n.model.toLowerCase().replace(/\s+/g,"").indexOf("iphonex",0)?"IphoneX":e<.5?"IphoneX":"Normal"}catch(o){return e<.5?"IphoneX":"Normal"}return e<.5?"IphoneX":"Normal"},customScreenAdapt:function(){if(cc.view.getFrameSize(),window.TofuCon.phoneModel=this.getPhoneModel(),"IphoneX"==window.TofuCon.phoneModel){if("undefined"!=typeof wx){var t=wx.getOpenDataContext().canvas;t.width=640,t.height=1136}window.TofuCon.phoneModel="IphoneX"}else if("IphoneXR"==window.TofuCon.phoneModel){if("undefined"!=typeof wx){var e=wx.getOpenDataContext().canvas;e.width=640,e.height=1136}}else window.TofuCon.phoneModel="Normal"},isIphoneX:function(){var t=cc.view.getFrameSize();return 375==t.width&&812==t.height||812==t.width&&375==t.height},compareVersion:function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var o=0;o<n;o++){var i=parseInt(t[o]),a=parseInt(e[o]);if(i>a)return 1;if(i<a)return-1}return 0}};e.exports=n,cc._RF.pop()},{}]},{},["CoinEffect","CoinHasStar","CombRing","EffectPanel","FollowCam","GameData","GameManager","GroupCircle","GroupStars","LightEffect","TuFo","InitGame","Main","ADManager","AudioManager","General","LockerItem","MyTuiJianManager","PartyLib","RunTime","ThirdAPI","WxAPI","WxBannerAd","WxChaAd","WxPortal","WxVideoAd","util","GuideManager","ShopManager","SignItem","SignPanel","SkinItem","SkinManager","TipManager","UIManager","data","skin"]);